<script>
  window.osPageExperiments = {};
</script>
<script>
  var F = Object.defineProperty;
  var U = (r, t, e) => (t in r ? F(r, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) : (r[t] = e));
  var R = (r, t, e) => (U(r, typeof t != 'symbol' ? t + '' : t, e), e);
  (function () {
    'use strict';
    var commonjsGlobal =
      typeof globalThis < 'u'
        ? globalThis
        : typeof window < 'u'
        ? window
        : typeof global < 'u'
        ? global
        : typeof self < 'u'
        ? self
        : {};
    function getDefaultExportFromCjs(r) {
      return r && r.__esModule && Object.prototype.hasOwnProperty.call(r, 'default') ? r.default : r;
    }
    function getAugmentedNamespace(r) {
      if (r.__esModule) return r;
      var t = r.default;
      if (typeof t == 'function') {
        var e = function n() {
          if (this instanceof n) {
            var a = [null];
            a.push.apply(a, arguments);
            var o = Function.bind.apply(t, a);
            return new o();
          }
          return t.apply(this, arguments);
        };
        e.prototype = t.prototype;
      } else e = {};
      return (
        Object.defineProperty(e, '__esModule', { value: !0 }),
        Object.keys(r).forEach(function (n) {
          var a = Object.getOwnPropertyDescriptor(r, n);
          Object.defineProperty(
            e,
            n,
            a.get
              ? a
              : {
                  enumerable: !0,
                  get: function () {
                    return r[n];
                  },
                }
          );
        }),
        e
      );
    }
    var dist = {},
      Errors = {},
      __extends =
        (commonjsGlobal && commonjsGlobal.__extends) ||
        (function () {
          var r = function (t, e) {
            return (
              (r =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                  function (n, a) {
                    n.__proto__ = a;
                  }) ||
                function (n, a) {
                  for (var o in a) Object.prototype.hasOwnProperty.call(a, o) && (n[o] = a[o]);
                }),
              r(t, e)
            );
          };
          return function (t, e) {
            if (typeof e != 'function' && e !== null)
              throw new TypeError('Class extends value ' + String(e) + ' is not a constructor or null');
            r(t, e);
            function n() {
              this.constructor = t;
            }
            t.prototype = e === null ? Object.create(e) : ((n.prototype = e.prototype), new n());
          };
        })();
    Object.defineProperty(Errors, '__esModule', { value: !0 }),
      (Errors.StatsigInvalidArgumentError = Errors.StatsigUninitializedError = void 0);
    var StatsigUninitializedError = (function (r) {
      __extends(t, r);
      function t(e) {
        var n = r.call(this, e ?? 'Call and wait for initialize() to finish first.') || this;
        return Object.setPrototypeOf(n, t.prototype), n;
      }
      return t;
    })(Error);
    Errors.StatsigUninitializedError = StatsigUninitializedError;
    var StatsigInvalidArgumentError = (function (r) {
      __extends(t, r);
      function t(e) {
        var n = r.call(this, e) || this;
        return Object.setPrototypeOf(n, t.prototype), n;
      }
      return t;
    })(Error);
    Errors.StatsigInvalidArgumentError = StatsigInvalidArgumentError;
    var StatsigClient$1 = {},
      DynamicConfig$1 = {};
    Object.defineProperty(DynamicConfig$1, '__esModule', { value: !0 });
    var DynamicConfig = (function () {
      function r(t, e, n, a, o, s, u) {
        o === void 0 && (o = []),
          s === void 0 && (s = ''),
          u === void 0 && (u = null),
          (this.onDefaultValueFallback = null),
          (this.name = t),
          (this.value = JSON.parse(JSON.stringify(e ?? {}))),
          (this.ruleID = n ?? ''),
          (this.secondaryExposures = o),
          (this.allocatedExperimentName = s),
          (this.evaluationDetails = a),
          (this.onDefaultValueFallback = u);
      }
      return (
        (r.prototype.get = function (t, e, n) {
          var a,
            o,
            s = this.getValue(t, e);
          if (s == null) return e;
          var u = Array.isArray(e) ? 'array' : typeof e,
            y = Array.isArray(s) ? 'array' : typeof s;
          return n
            ? n(s)
              ? s
              : ((a = this.onDefaultValueFallback) === null || a === void 0 || a.call(this, this, t, u, y), e)
            : e == null || u === y
            ? s
            : ((o = this.onDefaultValueFallback) === null || o === void 0 || o.call(this, this, t, u, y), e);
        }),
        (r.prototype.getValue = function (t, e) {
          return t == null ? this.value : (e == null && (e = null), this.value[t] == null ? e : this.value[t]);
        }),
        (r.prototype.getRuleID = function () {
          return this.ruleID;
        }),
        (r.prototype.getName = function () {
          return this.name;
        }),
        (r.prototype.getEvaluationDetails = function () {
          return this.evaluationDetails;
        }),
        (r.prototype._getSecondaryExposures = function () {
          return this.secondaryExposures;
        }),
        (r.prototype._getAllocatedExperimentName = function () {
          return this.allocatedExperimentName;
        }),
        r
      );
    })();
    DynamicConfig$1.default = DynamicConfig;
    var ErrorBoundary = {};
    (function (r) {
      var t =
          (commonjsGlobal && commonjsGlobal.__awaiter) ||
          function (o, s, u, y) {
            function l(d) {
              return d instanceof u
                ? d
                : new u(function (E) {
                    E(d);
                  });
            }
            return new (u || (u = Promise))(function (d, E) {
              function b(_) {
                try {
                  v(y.next(_));
                } catch (p) {
                  E(p);
                }
              }
              function S(_) {
                try {
                  v(y.throw(_));
                } catch (p) {
                  E(p);
                }
              }
              function v(_) {
                _.done ? d(_.value) : l(_.value).then(b, S);
              }
              v((y = y.apply(o, s || [])).next());
            });
          },
        e =
          (commonjsGlobal && commonjsGlobal.__generator) ||
          function (o, s) {
            var u = {
                label: 0,
                sent: function () {
                  if (d[0] & 1) throw d[1];
                  return d[1];
                },
                trys: [],
                ops: [],
              },
              y,
              l,
              d,
              E;
            return (
              (E = { next: b(0), throw: b(1), return: b(2) }),
              typeof Symbol == 'function' &&
                (E[Symbol.iterator] = function () {
                  return this;
                }),
              E
            );
            function b(v) {
              return function (_) {
                return S([v, _]);
              };
            }
            function S(v) {
              if (y) throw new TypeError('Generator is already executing.');
              for (; u; )
                try {
                  if (
                    ((y = 1),
                    l &&
                      (d = v[0] & 2 ? l.return : v[0] ? l.throw || ((d = l.return) && d.call(l), 0) : l.next) &&
                      !(d = d.call(l, v[1])).done)
                  )
                    return d;
                  switch (((l = 0), d && (v = [v[0] & 2, d.value]), v[0])) {
                    case 0:
                    case 1:
                      d = v;
                      break;
                    case 4:
                      return u.label++, { value: v[1], done: !1 };
                    case 5:
                      u.label++, (l = v[1]), (v = [0]);
                      continue;
                    case 7:
                      (v = u.ops.pop()), u.trys.pop();
                      continue;
                    default:
                      if (((d = u.trys), !(d = d.length > 0 && d[d.length - 1]) && (v[0] === 6 || v[0] === 2))) {
                        u = 0;
                        continue;
                      }
                      if (v[0] === 3 && (!d || (v[1] > d[0] && v[1] < d[3]))) {
                        u.label = v[1];
                        break;
                      }
                      if (v[0] === 6 && u.label < d[1]) {
                        (u.label = d[1]), (d = v);
                        break;
                      }
                      if (d && u.label < d[2]) {
                        (u.label = d[2]), u.ops.push(v);
                        break;
                      }
                      d[2] && u.ops.pop(), u.trys.pop();
                      continue;
                  }
                  v = s.call(o, u);
                } catch (_) {
                  (v = [6, _]), (l = 0);
                } finally {
                  y = d = 0;
                }
              if (v[0] & 5) throw v[1];
              return { value: v[0] ? v[1] : void 0, done: !0 };
            }
          };
      Object.defineProperty(r, '__esModule', { value: !0 }), (r.ExceptionEndpoint = void 0);
      var n = Errors;
      r.ExceptionEndpoint = 'https://statsigapi.net/v1/sdk_exception';
      var a = (function () {
        function o(s) {
          (this.seen = new Set()), (this.sdkKey = s);
        }
        return (
          (o.prototype.setStatsigMetadata = function (s) {
            this.statsigMetadata = s;
          }),
          (o.prototype.swallow = function (s, u) {
            this.capture(s, u, function () {});
          }),
          (o.prototype.capture = function (s, u, y, l) {
            var d = this;
            try {
              var E = u();
              return E instanceof Promise
                ? E.catch(function (b) {
                    return d.onCaught(s, b, y, l);
                  })
                : E;
            } catch (b) {
              return this.onCaught(s, b, y, l);
            }
          }),
          (o.prototype.logError = function (s, u, y) {
            var l;
            return t(this, void 0, void 0, function () {
              var d, E, b, S, v, _, p, h;
              return e(this, function (c) {
                switch (c.label) {
                  case 0:
                    return c.trys.push([0, 4, , 5]), typeof y != 'function' ? [3, 2] : [4, y()];
                  case 1:
                    return (E = c.sent()), [3, 3];
                  case 2:
                    (E = null), (c.label = 3);
                  case 3:
                    return (
                      (d = E),
                      (b = u ?? Error('[Statsig] Error was empty')),
                      (S = b instanceof Error),
                      (v = S ? b.name : 'No Name'),
                      this.seen.has(v)
                        ? [2]
                        : (this.seen.add(v),
                          (_ = S ? b.stack : this.getDescription(b)),
                          (p = (l = this.statsigMetadata) !== null && l !== void 0 ? l : {}),
                          (h = JSON.stringify({ tag: s, exception: v, info: _, statsigMetadata: p, extra: d ?? {} })),
                          fetch(r.ExceptionEndpoint, {
                            method: 'POST',
                            headers: {
                              'STATSIG-API-KEY': this.sdkKey,
                              'STATSIG-SDK-TYPE': String(p.sdkType),
                              'STATSIG-SDK-VERSION': String(p.sdkVersion),
                              'Content-Type': 'application/json',
                              'Content-Length': '' + h.length,
                            },
                            body: h,
                          }),
                          [3, 5])
                    );
                  case 4:
                    return c.sent(), [3, 5];
                  case 5:
                    return [2];
                }
              });
            });
          }),
          (o.prototype.onCaught = function (s, u, y, l) {
            if (u instanceof n.StatsigUninitializedError || u instanceof n.StatsigInvalidArgumentError) throw u;
            return console.error('[Statsig] An unexpected exception occurred.', u), this.logError(s, u, l), y();
          }),
          (o.prototype.getDescription = function (s) {
            try {
              return JSON.stringify(s);
            } catch {
              return '[Statsig] Failed to get string for error.';
            }
          }),
          o
        );
      })();
      r.default = a;
    })(ErrorBoundary);
    var Layer$1 = {};
    Object.defineProperty(Layer$1, '__esModule', { value: !0 });
    var Layer = (function () {
      function r(t, e, n, a, o, s, u, y, l) {
        o === void 0 && (o = null),
          s === void 0 && (s = []),
          u === void 0 && (u = []),
          y === void 0 && (y = ''),
          l === void 0 && (l = []),
          (this.logParameterFunction = o),
          (this.name = t),
          (this.value = JSON.parse(JSON.stringify(e ?? {}))),
          (this.ruleID = n ?? ''),
          (this.evaluationDetails = a),
          (this.secondaryExposures = s),
          (this.undelegatedSecondaryExposures = u),
          (this.allocatedExperimentName = y),
          (this.explicitParameters = l);
      }
      return (
        (r._create = function (t, e, n, a, o, s, u, y, l) {
          return (
            o === void 0 && (o = null),
            s === void 0 && (s = []),
            u === void 0 && (u = []),
            y === void 0 && (y = ''),
            l === void 0 && (l = []),
            new r(t, e, n, a, o, s, u, y, l)
          );
        }),
        (r.prototype.get = function (t, e, n) {
          var a = this,
            o = this.value[t];
          if (o == null) return e;
          var s = function () {
            return a.logLayerParameterExposure(t), o;
          };
          return n
            ? n(o)
              ? s()
              : e
            : e == null || (typeof o == typeof e && Array.isArray(e) === Array.isArray(o))
            ? s()
            : e;
        }),
        (r.prototype.getValue = function (t, e) {
          e == null && (e = null);
          var n = this.value[t];
          return n != null && this.logLayerParameterExposure(t), n ?? e;
        }),
        (r.prototype.getRuleID = function () {
          return this.ruleID;
        }),
        (r.prototype.getName = function () {
          return this.name;
        }),
        (r.prototype.getEvaluationDetails = function () {
          return this.evaluationDetails;
        }),
        (r.prototype._getSecondaryExposures = function () {
          return this.secondaryExposures;
        }),
        (r.prototype._getUndelegatedSecondaryExposures = function () {
          return this.undelegatedSecondaryExposures;
        }),
        (r.prototype._getAllocatedExperimentName = function () {
          return this.allocatedExperimentName;
        }),
        (r.prototype._getExplicitParameters = function () {
          return this.explicitParameters;
        }),
        (r.prototype._getEvaluationDetails = function () {
          return this.evaluationDetails;
        }),
        (r.prototype.logLayerParameterExposure = function (t) {
          var e;
          (e = this.logParameterFunction) === null || e === void 0 || e.call(this, this, t);
        }),
        r
      );
    })();
    Layer$1.default = Layer;
    var LogEvent$1 = {},
      __assign$2 =
        (commonjsGlobal && commonjsGlobal.__assign) ||
        function () {
          return (
            (__assign$2 =
              Object.assign ||
              function (r) {
                for (var t, e = 1, n = arguments.length; e < n; e++) {
                  t = arguments[e];
                  for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (r[a] = t[a]);
                }
                return r;
              }),
            __assign$2.apply(this, arguments)
          );
        };
    Object.defineProperty(LogEvent$1, '__esModule', { value: !0 });
    var LogEvent = (function () {
      function r(t) {
        (this.user = null),
          (this.value = null),
          (this.metadata = null),
          (this.eventName = t),
          (this.statsigMetadata = {}),
          (this.time = Date.now());
      }
      return (
        (r.prototype.getName = function () {
          return this.eventName;
        }),
        (r.prototype.setValue = function (t) {
          this.value = t;
        }),
        (r.prototype.setMetadata = function (t) {
          this.metadata = t;
        }),
        (r.prototype.addStatsigMetadata = function (t, e) {
          this.statsigMetadata[t] = e;
        }),
        (r.prototype.setUser = function (t) {
          (this.user = __assign$2({}, t)), delete this.user.privateAttributes;
        }),
        (r.prototype.setSecondaryExposures = function (t) {
          t === void 0 && (t = []), (this.secondaryExposures = t);
        }),
        (r.prototype.toJsonObject = function () {
          var t;
          return {
            eventName: this.eventName,
            user: this.user,
            value: this.value,
            metadata: this.metadata,
            time: this.time,
            statsigMetadata: this.statsigMetadata,
            secondaryExposures: (t = this.secondaryExposures) !== null && t !== void 0 ? t : void 0,
          };
        }),
        r
      );
    })();
    LogEvent$1.default = LogEvent;
    var StatsigIdentity = {},
      getRandomValues,
      rnds8 = new Uint8Array(16);
    function rng() {
      if (
        !getRandomValues &&
        ((getRandomValues =
          (typeof crypto < 'u' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto)) ||
          (typeof msCrypto < 'u' &&
            typeof msCrypto.getRandomValues == 'function' &&
            msCrypto.getRandomValues.bind(msCrypto))),
        !getRandomValues)
      )
        throw new Error(
          'crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported'
        );
      return getRandomValues(rnds8);
    }
    const REGEX =
      /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;
    function validate(r) {
      return typeof r == 'string' && REGEX.test(r);
    }
    for (var byteToHex = [], i = 0; i < 256; ++i) byteToHex.push((i + 256).toString(16).substr(1));
    function stringify(r) {
      var t = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 0,
        e = (
          byteToHex[r[t + 0]] +
          byteToHex[r[t + 1]] +
          byteToHex[r[t + 2]] +
          byteToHex[r[t + 3]] +
          '-' +
          byteToHex[r[t + 4]] +
          byteToHex[r[t + 5]] +
          '-' +
          byteToHex[r[t + 6]] +
          byteToHex[r[t + 7]] +
          '-' +
          byteToHex[r[t + 8]] +
          byteToHex[r[t + 9]] +
          '-' +
          byteToHex[r[t + 10]] +
          byteToHex[r[t + 11]] +
          byteToHex[r[t + 12]] +
          byteToHex[r[t + 13]] +
          byteToHex[r[t + 14]] +
          byteToHex[r[t + 15]]
        ).toLowerCase();
      if (!validate(e)) throw TypeError('Stringified UUID is invalid');
      return e;
    }
    var _nodeId,
      _clockseq,
      _lastMSecs = 0,
      _lastNSecs = 0;
    function v1(r, t, e) {
      var n = (t && e) || 0,
        a = t || new Array(16);
      r = r || {};
      var o = r.node || _nodeId,
        s = r.clockseq !== void 0 ? r.clockseq : _clockseq;
      if (o == null || s == null) {
        var u = r.random || (r.rng || rng)();
        o == null && (o = _nodeId = [u[0] | 1, u[1], u[2], u[3], u[4], u[5]]),
          s == null && (s = _clockseq = ((u[6] << 8) | u[7]) & 16383);
      }
      var y = r.msecs !== void 0 ? r.msecs : Date.now(),
        l = r.nsecs !== void 0 ? r.nsecs : _lastNSecs + 1,
        d = y - _lastMSecs + (l - _lastNSecs) / 1e4;
      if (
        (d < 0 && r.clockseq === void 0 && (s = (s + 1) & 16383),
        (d < 0 || y > _lastMSecs) && r.nsecs === void 0 && (l = 0),
        l >= 1e4)
      )
        throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");
      (_lastMSecs = y), (_lastNSecs = l), (_clockseq = s), (y += 122192928e5);
      var E = ((y & 268435455) * 1e4 + l) % 4294967296;
      (a[n++] = (E >>> 24) & 255), (a[n++] = (E >>> 16) & 255), (a[n++] = (E >>> 8) & 255), (a[n++] = E & 255);
      var b = ((y / 4294967296) * 1e4) & 268435455;
      (a[n++] = (b >>> 8) & 255),
        (a[n++] = b & 255),
        (a[n++] = ((b >>> 24) & 15) | 16),
        (a[n++] = (b >>> 16) & 255),
        (a[n++] = (s >>> 8) | 128),
        (a[n++] = s & 255);
      for (var S = 0; S < 6; ++S) a[n + S] = o[S];
      return t || stringify(a);
    }
    function parse(r) {
      if (!validate(r)) throw TypeError('Invalid UUID');
      var t,
        e = new Uint8Array(16);
      return (
        (e[0] = (t = parseInt(r.slice(0, 8), 16)) >>> 24),
        (e[1] = (t >>> 16) & 255),
        (e[2] = (t >>> 8) & 255),
        (e[3] = t & 255),
        (e[4] = (t = parseInt(r.slice(9, 13), 16)) >>> 8),
        (e[5] = t & 255),
        (e[6] = (t = parseInt(r.slice(14, 18), 16)) >>> 8),
        (e[7] = t & 255),
        (e[8] = (t = parseInt(r.slice(19, 23), 16)) >>> 8),
        (e[9] = t & 255),
        (e[10] = ((t = parseInt(r.slice(24, 36), 16)) / 1099511627776) & 255),
        (e[11] = (t / 4294967296) & 255),
        (e[12] = (t >>> 24) & 255),
        (e[13] = (t >>> 16) & 255),
        (e[14] = (t >>> 8) & 255),
        (e[15] = t & 255),
        e
      );
    }
    function stringToBytes(r) {
      r = unescape(encodeURIComponent(r));
      for (var t = [], e = 0; e < r.length; ++e) t.push(r.charCodeAt(e));
      return t;
    }
    var DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8',
      URL$1 = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';
    function v35(r, t, e) {
      function n(a, o, s, u) {
        if ((typeof a == 'string' && (a = stringToBytes(a)), typeof o == 'string' && (o = parse(o)), o.length !== 16))
          throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');
        var y = new Uint8Array(16 + a.length);
        if ((y.set(o), y.set(a, o.length), (y = e(y)), (y[6] = (y[6] & 15) | t), (y[8] = (y[8] & 63) | 128), s)) {
          u = u || 0;
          for (var l = 0; l < 16; ++l) s[u + l] = y[l];
          return s;
        }
        return stringify(y);
      }
      try {
        n.name = r;
      } catch {}
      return (n.DNS = DNS), (n.URL = URL$1), n;
    }
    function md5(r) {
      if (typeof r == 'string') {
        var t = unescape(encodeURIComponent(r));
        r = new Uint8Array(t.length);
        for (var e = 0; e < t.length; ++e) r[e] = t.charCodeAt(e);
      }
      return md5ToHexEncodedArray(wordsToMd5(bytesToWords(r), r.length * 8));
    }
    function md5ToHexEncodedArray(r) {
      for (var t = [], e = r.length * 32, n = '0123456789abcdef', a = 0; a < e; a += 8) {
        var o = (r[a >> 5] >>> a % 32) & 255,
          s = parseInt(n.charAt((o >>> 4) & 15) + n.charAt(o & 15), 16);
        t.push(s);
      }
      return t;
    }
    function getOutputLength(r) {
      return (((r + 64) >>> 9) << 4) + 14 + 1;
    }
    function wordsToMd5(r, t) {
      (r[t >> 5] |= 128 << t % 32), (r[getOutputLength(t) - 1] = t);
      for (var e = 1732584193, n = -271733879, a = -1732584194, o = 271733878, s = 0; s < r.length; s += 16) {
        var u = e,
          y = n,
          l = a,
          d = o;
        (e = md5ff(e, n, a, o, r[s], 7, -680876936)),
          (o = md5ff(o, e, n, a, r[s + 1], 12, -389564586)),
          (a = md5ff(a, o, e, n, r[s + 2], 17, 606105819)),
          (n = md5ff(n, a, o, e, r[s + 3], 22, -1044525330)),
          (e = md5ff(e, n, a, o, r[s + 4], 7, -176418897)),
          (o = md5ff(o, e, n, a, r[s + 5], 12, 1200080426)),
          (a = md5ff(a, o, e, n, r[s + 6], 17, -1473231341)),
          (n = md5ff(n, a, o, e, r[s + 7], 22, -45705983)),
          (e = md5ff(e, n, a, o, r[s + 8], 7, 1770035416)),
          (o = md5ff(o, e, n, a, r[s + 9], 12, -1958414417)),
          (a = md5ff(a, o, e, n, r[s + 10], 17, -42063)),
          (n = md5ff(n, a, o, e, r[s + 11], 22, -1990404162)),
          (e = md5ff(e, n, a, o, r[s + 12], 7, 1804603682)),
          (o = md5ff(o, e, n, a, r[s + 13], 12, -40341101)),
          (a = md5ff(a, o, e, n, r[s + 14], 17, -1502002290)),
          (n = md5ff(n, a, o, e, r[s + 15], 22, 1236535329)),
          (e = md5gg(e, n, a, o, r[s + 1], 5, -165796510)),
          (o = md5gg(o, e, n, a, r[s + 6], 9, -1069501632)),
          (a = md5gg(a, o, e, n, r[s + 11], 14, 643717713)),
          (n = md5gg(n, a, o, e, r[s], 20, -373897302)),
          (e = md5gg(e, n, a, o, r[s + 5], 5, -701558691)),
          (o = md5gg(o, e, n, a, r[s + 10], 9, 38016083)),
          (a = md5gg(a, o, e, n, r[s + 15], 14, -660478335)),
          (n = md5gg(n, a, o, e, r[s + 4], 20, -405537848)),
          (e = md5gg(e, n, a, o, r[s + 9], 5, 568446438)),
          (o = md5gg(o, e, n, a, r[s + 14], 9, -1019803690)),
          (a = md5gg(a, o, e, n, r[s + 3], 14, -187363961)),
          (n = md5gg(n, a, o, e, r[s + 8], 20, 1163531501)),
          (e = md5gg(e, n, a, o, r[s + 13], 5, -1444681467)),
          (o = md5gg(o, e, n, a, r[s + 2], 9, -51403784)),
          (a = md5gg(a, o, e, n, r[s + 7], 14, 1735328473)),
          (n = md5gg(n, a, o, e, r[s + 12], 20, -1926607734)),
          (e = md5hh(e, n, a, o, r[s + 5], 4, -378558)),
          (o = md5hh(o, e, n, a, r[s + 8], 11, -2022574463)),
          (a = md5hh(a, o, e, n, r[s + 11], 16, 1839030562)),
          (n = md5hh(n, a, o, e, r[s + 14], 23, -35309556)),
          (e = md5hh(e, n, a, o, r[s + 1], 4, -1530992060)),
          (o = md5hh(o, e, n, a, r[s + 4], 11, 1272893353)),
          (a = md5hh(a, o, e, n, r[s + 7], 16, -155497632)),
          (n = md5hh(n, a, o, e, r[s + 10], 23, -1094730640)),
          (e = md5hh(e, n, a, o, r[s + 13], 4, 681279174)),
          (o = md5hh(o, e, n, a, r[s], 11, -358537222)),
          (a = md5hh(a, o, e, n, r[s + 3], 16, -722521979)),
          (n = md5hh(n, a, o, e, r[s + 6], 23, 76029189)),
          (e = md5hh(e, n, a, o, r[s + 9], 4, -640364487)),
          (o = md5hh(o, e, n, a, r[s + 12], 11, -421815835)),
          (a = md5hh(a, o, e, n, r[s + 15], 16, 530742520)),
          (n = md5hh(n, a, o, e, r[s + 2], 23, -995338651)),
          (e = md5ii(e, n, a, o, r[s], 6, -198630844)),
          (o = md5ii(o, e, n, a, r[s + 7], 10, 1126891415)),
          (a = md5ii(a, o, e, n, r[s + 14], 15, -1416354905)),
          (n = md5ii(n, a, o, e, r[s + 5], 21, -57434055)),
          (e = md5ii(e, n, a, o, r[s + 12], 6, 1700485571)),
          (o = md5ii(o, e, n, a, r[s + 3], 10, -1894986606)),
          (a = md5ii(a, o, e, n, r[s + 10], 15, -1051523)),
          (n = md5ii(n, a, o, e, r[s + 1], 21, -2054922799)),
          (e = md5ii(e, n, a, o, r[s + 8], 6, 1873313359)),
          (o = md5ii(o, e, n, a, r[s + 15], 10, -30611744)),
          (a = md5ii(a, o, e, n, r[s + 6], 15, -1560198380)),
          (n = md5ii(n, a, o, e, r[s + 13], 21, 1309151649)),
          (e = md5ii(e, n, a, o, r[s + 4], 6, -145523070)),
          (o = md5ii(o, e, n, a, r[s + 11], 10, -1120210379)),
          (a = md5ii(a, o, e, n, r[s + 2], 15, 718787259)),
          (n = md5ii(n, a, o, e, r[s + 9], 21, -343485551)),
          (e = safeAdd(e, u)),
          (n = safeAdd(n, y)),
          (a = safeAdd(a, l)),
          (o = safeAdd(o, d));
      }
      return [e, n, a, o];
    }
    function bytesToWords(r) {
      if (r.length === 0) return [];
      for (var t = r.length * 8, e = new Uint32Array(getOutputLength(t)), n = 0; n < t; n += 8)
        e[n >> 5] |= (r[n / 8] & 255) << n % 32;
      return e;
    }
    function safeAdd(r, t) {
      var e = (r & 65535) + (t & 65535),
        n = (r >> 16) + (t >> 16) + (e >> 16);
      return (n << 16) | (e & 65535);
    }
    function bitRotateLeft(r, t) {
      return (r << t) | (r >>> (32 - t));
    }
    function md5cmn(r, t, e, n, a, o) {
      return safeAdd(bitRotateLeft(safeAdd(safeAdd(t, r), safeAdd(n, o)), a), e);
    }
    function md5ff(r, t, e, n, a, o, s) {
      return md5cmn((t & e) | (~t & n), r, t, a, o, s);
    }
    function md5gg(r, t, e, n, a, o, s) {
      return md5cmn((t & n) | (e & ~n), r, t, a, o, s);
    }
    function md5hh(r, t, e, n, a, o, s) {
      return md5cmn(t ^ e ^ n, r, t, a, o, s);
    }
    function md5ii(r, t, e, n, a, o, s) {
      return md5cmn(e ^ (t | ~n), r, t, a, o, s);
    }
    var v3 = v35('v3', 48, md5);
    const v3$1 = v3;
    function v4(r, t, e) {
      r = r || {};
      var n = r.random || (r.rng || rng)();
      if (((n[6] = (n[6] & 15) | 64), (n[8] = (n[8] & 63) | 128), t)) {
        e = e || 0;
        for (var a = 0; a < 16; ++a) t[e + a] = n[a];
        return t;
      }
      return stringify(n);
    }
    function f(r, t, e, n) {
      switch (r) {
        case 0:
          return (t & e) ^ (~t & n);
        case 1:
          return t ^ e ^ n;
        case 2:
          return (t & e) ^ (t & n) ^ (e & n);
        case 3:
          return t ^ e ^ n;
      }
    }
    function ROTL(r, t) {
      return (r << t) | (r >>> (32 - t));
    }
    function sha1(r) {
      var t = [1518500249, 1859775393, 2400959708, 3395469782],
        e = [1732584193, 4023233417, 2562383102, 271733878, 3285377520];
      if (typeof r == 'string') {
        var n = unescape(encodeURIComponent(r));
        r = [];
        for (var a = 0; a < n.length; ++a) r.push(n.charCodeAt(a));
      } else Array.isArray(r) || (r = Array.prototype.slice.call(r));
      r.push(128);
      for (var o = r.length / 4 + 2, s = Math.ceil(o / 16), u = new Array(s), y = 0; y < s; ++y) {
        for (var l = new Uint32Array(16), d = 0; d < 16; ++d)
          l[d] =
            (r[y * 64 + d * 4] << 24) |
            (r[y * 64 + d * 4 + 1] << 16) |
            (r[y * 64 + d * 4 + 2] << 8) |
            r[y * 64 + d * 4 + 3];
        u[y] = l;
      }
      (u[s - 1][14] = ((r.length - 1) * 8) / Math.pow(2, 32)),
        (u[s - 1][14] = Math.floor(u[s - 1][14])),
        (u[s - 1][15] = ((r.length - 1) * 8) & 4294967295);
      for (var E = 0; E < s; ++E) {
        for (var b = new Uint32Array(80), S = 0; S < 16; ++S) b[S] = u[E][S];
        for (var v = 16; v < 80; ++v) b[v] = ROTL(b[v - 3] ^ b[v - 8] ^ b[v - 14] ^ b[v - 16], 1);
        for (var _ = e[0], p = e[1], h = e[2], c = e[3], g = e[4], m = 0; m < 80; ++m) {
          var A = Math.floor(m / 20),
            I = (ROTL(_, 5) + f(A, p, h, c) + g + t[A] + b[m]) >>> 0;
          (g = c), (c = h), (h = ROTL(p, 30) >>> 0), (p = _), (_ = I);
        }
        (e[0] = (e[0] + _) >>> 0),
          (e[1] = (e[1] + p) >>> 0),
          (e[2] = (e[2] + h) >>> 0),
          (e[3] = (e[3] + c) >>> 0),
          (e[4] = (e[4] + g) >>> 0);
      }
      return [
        (e[0] >> 24) & 255,
        (e[0] >> 16) & 255,
        (e[0] >> 8) & 255,
        e[0] & 255,
        (e[1] >> 24) & 255,
        (e[1] >> 16) & 255,
        (e[1] >> 8) & 255,
        e[1] & 255,
        (e[2] >> 24) & 255,
        (e[2] >> 16) & 255,
        (e[2] >> 8) & 255,
        e[2] & 255,
        (e[3] >> 24) & 255,
        (e[3] >> 16) & 255,
        (e[3] >> 8) & 255,
        e[3] & 255,
        (e[4] >> 24) & 255,
        (e[4] >> 16) & 255,
        (e[4] >> 8) & 255,
        e[4] & 255,
      ];
    }
    var v5 = v35('v5', 80, sha1);
    const v5$1 = v5,
      nil = '00000000-0000-0000-0000-000000000000';
    function version$1(r) {
      if (!validate(r)) throw TypeError('Invalid UUID');
      return parseInt(r.substr(14, 1), 16);
    }
    const esmBrowser = Object.freeze(
        Object.defineProperty(
          { __proto__: null, NIL: nil, parse, stringify, v1, v3: v3$1, v4, v5: v5$1, validate, version: version$1 },
          Symbol.toStringTag,
          { value: 'Module' }
        )
      ),
      require$$0 = getAugmentedNamespace(esmBrowser);
    var Constants = {};
    Object.defineProperty(Constants, '__esModule', { value: !0 }),
      (Constants.STORAGE_PREFIX =
        Constants.LOCAL_STORAGE_KEYS =
        Constants.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY =
        Constants.STATSIG_STABLE_ID_KEY =
        Constants.INTERNAL_STORE_KEY =
        Constants.STICKY_DEVICE_EXPERIMENTS_KEY =
        Constants.OVERRIDES_STORE_KEY =
          void 0),
      (Constants.OVERRIDES_STORE_KEY = 'STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3'),
      (Constants.STICKY_DEVICE_EXPERIMENTS_KEY = 'STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS'),
      (Constants.INTERNAL_STORE_KEY = 'STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4'),
      (Constants.STATSIG_STABLE_ID_KEY = 'STATSIG_LOCAL_STORAGE_STABLE_ID'),
      (Constants.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY = 'STATSIG_LOCAL_STORAGE_LOGGING_REQUEST'),
      (Constants.LOCAL_STORAGE_KEYS = {
        STATSIG_LOCAL_STORAGE_STABLE_ID: !0,
        STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4: !0,
        STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS: !0,
        STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3: !0,
        STATSIG_LOCAL_STORAGE_LOGGING_REQUEST: !0,
      }),
      (Constants.STORAGE_PREFIX = 'STATSIG_LOCAL_STORAGE');
    var StatsigAsyncStorage$1 = {};
    Object.defineProperty(StatsigAsyncStorage$1, '__esModule', { value: !0 });
    var StatsigAsyncStorage = (function () {
      function r() {}
      return (
        (r.getItemAsync = function (t) {
          var e;
          return r.asyncStorage
            ? (e = r.asyncStorage.getItem(t)) !== null && e !== void 0
              ? e
              : null
            : Promise.resolve(null);
        }),
        (r.setItemAsync = function (t, e) {
          return r.asyncStorage ? r.asyncStorage.setItem(t, e) : Promise.resolve();
        }),
        (r.removeItemAsync = function (t) {
          return r.asyncStorage ? r.asyncStorage.removeItem(t) : Promise.resolve();
        }),
        r
      );
    })();
    StatsigAsyncStorage$1.default = StatsigAsyncStorage;
    var StatsigLocalStorage$1 = {};
    Object.defineProperty(StatsigLocalStorage$1, '__esModule', { value: !0 });
    var Constants_1$2 = Constants,
      StatsigLocalStorage = (function () {
        function r() {}
        return (
          (r.getItem = function (t) {
            var e;
            try {
              if (this.isStorageAccessible()) return window.localStorage.getItem(t);
            } catch {}
            return (e = this.fallbackSessionCache[t]) !== null && e !== void 0 ? e : null;
          }),
          (r.setItem = function (t, e) {
            try {
              if (this.isStorageAccessible()) {
                window.localStorage.setItem(t, e);
                return;
              }
            } catch {}
            this.fallbackSessionCache[t] = e;
          }),
          (r.removeItem = function (t) {
            try {
              if (this.isStorageAccessible()) {
                window.localStorage.removeItem(t);
                return;
              }
            } catch {}
            delete this.fallbackSessionCache[t];
          }),
          (r.cleanup = function () {
            try {
              if (this.isStorageAccessible(!0))
                for (var t in window.localStorage)
                  typeof window.localStorage[t] == 'string' &&
                    t != null &&
                    ((!this.disabled && t in Constants_1$2.LOCAL_STORAGE_KEYS) ||
                      (!this.disabled &&
                        t.substring(0, Constants_1$2.STORAGE_PREFIX.length) !== Constants_1$2.STORAGE_PREFIX) ||
                      window.localStorage.removeItem(t));
            } catch {}
          }),
          (r.isStorageAccessible = function (t) {
            t === void 0 && (t = !1);
            var e = typeof Storage < 'u' && typeof window < 'u' && window != null && window.localStorage != null;
            return (t || !this.disabled) && e;
          }),
          (r.disabled = !1),
          (r.fallbackSessionCache = {}),
          r
        );
      })();
    StatsigLocalStorage$1.default = StatsigLocalStorage;
    const name = 'statsig-js',
      version = '4.29.0',
      description = 'Statsig JavaScript client SDK for single user environments.',
      main = 'dist/index.js',
      types = 'dist/index.d.ts',
      scripts = {
        prepare: 'rm -rf build/ && rm -rf dist/ && tsc && webpack',
        postbuild: 'rm -rf build/**/*.map',
        test: 'jest --config=jest-debug.config.js',
        testForGithubOrRedisEnthusiasts: 'jest',
        'test:watch': 'jest --watch',
        'build:dryrun': 'npx tsc --noEmit',
        types: 'npx tsc',
      },
      files = ['build/statsig-prod-web-sdk.js', 'dist/*.js', 'dist/*.d.ts', 'dist/utils/*.js', 'dist/utils/*.d.ts'],
      jsdelivr = 'build/statsig-prod-web-sdk.js',
      repository = { type: 'git', url: 'git+https://github.com/statsig-io/js-client-sdk.git' },
      author = 'Statsig, Inc.',
      license = 'ISC',
      bugs = { url: 'https://github.com/statsig-io/js-client-sdk/issues' },
      keywords = ['feature gate', 'feature flag', 'continuous deployment', 'ci', 'ab test'],
      homepage = 'https://www.statsig.com',
      devDependencies = {
        '@babel/preset-env': '^7.14.9',
        '@babel/preset-typescript': '^7.14.5',
        '@types/jest': '^27.1.0',
        '@types/uuid': '^8.3.1',
        'circular-dependency-plugin': '^5.2.2',
        'core-js': '^3.16.4',
        jest: '^27.1.0',
        'terser-webpack-plugin': '^5.1.4',
        'ts-jest': '^27.1.0',
        'ts-loader': '^9.2.3',
        typescript: '^4.2.2',
        webpack: '^5.48.0',
        'webpack-cli': '^4.7.2',
      },
      dependencies = { 'js-sha256': '^0.9.0', uuid: '^8.3.2' },
      importSort = { '.js, .jsx, .ts, .tsx': { style: 'module', parser: 'typescript' } },
      require$$4 = {
        name,
        version,
        description,
        main,
        types,
        scripts,
        files,
        jsdelivr,
        repository,
        author,
        license,
        bugs,
        keywords,
        homepage,
        devDependencies,
        dependencies,
        importSort,
      };
    var __awaiter$2 =
        (commonjsGlobal && commonjsGlobal.__awaiter) ||
        function (r, t, e, n) {
          function a(o) {
            return o instanceof e
              ? o
              : new e(function (s) {
                  s(o);
                });
          }
          return new (e || (e = Promise))(function (o, s) {
            function u(d) {
              try {
                l(n.next(d));
              } catch (E) {
                s(E);
              }
            }
            function y(d) {
              try {
                l(n.throw(d));
              } catch (E) {
                s(E);
              }
            }
            function l(d) {
              d.done ? o(d.value) : a(d.value).then(u, y);
            }
            l((n = n.apply(r, t || [])).next());
          });
        },
      __generator$2 =
        (commonjsGlobal && commonjsGlobal.__generator) ||
        function (r, t) {
          var e = {
              label: 0,
              sent: function () {
                if (o[0] & 1) throw o[1];
                return o[1];
              },
              trys: [],
              ops: [],
            },
            n,
            a,
            o,
            s;
          return (
            (s = { next: u(0), throw: u(1), return: u(2) }),
            typeof Symbol == 'function' &&
              (s[Symbol.iterator] = function () {
                return this;
              }),
            s
          );
          function u(l) {
            return function (d) {
              return y([l, d]);
            };
          }
          function y(l) {
            if (n) throw new TypeError('Generator is already executing.');
            for (; e; )
              try {
                if (
                  ((n = 1),
                  a &&
                    (o = l[0] & 2 ? a.return : l[0] ? a.throw || ((o = a.return) && o.call(a), 0) : a.next) &&
                    !(o = o.call(a, l[1])).done)
                )
                  return o;
                switch (((a = 0), o && (l = [l[0] & 2, o.value]), l[0])) {
                  case 0:
                  case 1:
                    o = l;
                    break;
                  case 4:
                    return e.label++, { value: l[1], done: !1 };
                  case 5:
                    e.label++, (a = l[1]), (l = [0]);
                    continue;
                  case 7:
                    (l = e.ops.pop()), e.trys.pop();
                    continue;
                  default:
                    if (((o = e.trys), !(o = o.length > 0 && o[o.length - 1]) && (l[0] === 6 || l[0] === 2))) {
                      e = 0;
                      continue;
                    }
                    if (l[0] === 3 && (!o || (l[1] > o[0] && l[1] < o[3]))) {
                      e.label = l[1];
                      break;
                    }
                    if (l[0] === 6 && e.label < o[1]) {
                      (e.label = o[1]), (o = l);
                      break;
                    }
                    if (o && e.label < o[2]) {
                      (e.label = o[2]), e.ops.push(l);
                      break;
                    }
                    o[2] && e.ops.pop(), e.trys.pop();
                    continue;
                }
                l = t.call(r, e);
              } catch (d) {
                (l = [6, d]), (a = 0);
              } finally {
                n = o = 0;
              }
            if (l[0] & 5) throw l[1];
            return { value: l[0] ? l[1] : void 0, done: !0 };
          }
        },
      __importDefault$2 =
        (commonjsGlobal && commonjsGlobal.__importDefault) ||
        function (r) {
          return r && r.__esModule ? r : { default: r };
        };
    Object.defineProperty(StatsigIdentity, '__esModule', { value: !0 });
    var uuid_1 = require$$0,
      Constants_1$1 = Constants,
      StatsigAsyncStorage_1$2 = __importDefault$2(StatsigAsyncStorage$1),
      StatsigLocalStorage_1$2 = __importDefault$2(StatsigLocalStorage$1),
      Identity = (function () {
        function r(t, e, n) {
          var a, o, s;
          (this.platform = null),
            (this.nativeModules = null),
            (this.sdkType = 'js-client'),
            (this.reactNativeUUID = n),
            (this.user = t),
            (this.sdkVersion =
              (o = (a = require$$4) === null || a === void 0 ? void 0 : a.version) !== null && o !== void 0 ? o : ''),
            (this.statsigMetadata = { sessionID: this.getUUID(), sdkType: this.sdkType, sdkVersion: this.sdkVersion });
          var u = e;
          StatsigAsyncStorage_1$2.default.asyncStorage ||
            ((u =
              (s = u ?? StatsigLocalStorage_1$2.default.getItem(Constants_1$1.STATSIG_STABLE_ID_KEY)) !== null &&
              s !== void 0
                ? s
                : this.getUUID()),
            StatsigLocalStorage_1$2.default.setItem(Constants_1$1.STATSIG_STABLE_ID_KEY, u)),
            u && (this.statsigMetadata.stableID = u);
        }
        return (
          (r.prototype.initAsync = function () {
            return __awaiter$2(this, void 0, void 0, function () {
              var t;
              return __generator$2(this, function (e) {
                switch (e.label) {
                  case 0:
                    return (
                      (t = this.statsigMetadata.stableID),
                      t
                        ? [3, 2]
                        : [4, StatsigAsyncStorage_1$2.default.getItemAsync(Constants_1$1.STATSIG_STABLE_ID_KEY)]
                    );
                  case 1:
                    (t = e.sent()), (t = t ?? this.getUUID()), (e.label = 2);
                  case 2:
                    return (
                      StatsigAsyncStorage_1$2.default.setItemAsync(Constants_1$1.STATSIG_STABLE_ID_KEY, t),
                      (this.statsigMetadata.stableID = t),
                      [2, this]
                    );
                }
              });
            });
          }),
          (r.prototype.getSDKType = function () {
            return this.sdkType;
          }),
          (r.prototype.getSDKVersion = function () {
            return this.sdkVersion;
          }),
          (r.prototype.getStatsigMetadata = function () {
            return (
              (this.statsigMetadata.sdkType = this.sdkType),
              (this.statsigMetadata.sdkVersion = this.sdkVersion),
              this.statsigMetadata
            );
          }),
          (r.prototype.getUser = function () {
            return this.user;
          }),
          (r.prototype.updateUser = function (t) {
            (this.user = t), (this.statsigMetadata.sessionID = this.getUUID());
          }),
          (r.prototype.setSDKPackageInfo = function (t) {
            (this.sdkType = t.sdkType), (this.sdkVersion = t.sdkVersion);
          }),
          (r.prototype.setPlatform = function (t) {
            (this.platform = t), this.updateMetadataFromNativeModules();
          }),
          (r.prototype.setNativeModules = function (t) {
            (this.nativeModules = t), this.updateMetadataFromNativeModules();
          }),
          (r.prototype.updateMetadataFromNativeModules = function () {
            var t, e, n, a, o, s, u;
            this.platform == null ||
              this.nativeModules == null ||
              (((t = this.platform.OS) === null || t === void 0 ? void 0 : t.toLocaleLowerCase()) === 'android'
                ? (this.statsigMetadata.locale =
                    (e = this.nativeModules.I18nManager) === null || e === void 0 ? void 0 : e.localeIdentifier)
                : ((n = this.platform.OS) === null || n === void 0 ? void 0 : n.toLocaleLowerCase()) === 'ios' &&
                  (this.statsigMetadata.locale =
                    ((o = (a = this.nativeModules.SettingsManager) === null || a === void 0 ? void 0 : a.settings) ===
                      null || o === void 0
                      ? void 0
                      : o.AppleLocale) ||
                    ((u = (s = this.nativeModules.SettingsManager) === null || s === void 0 ? void 0 : s.settings) ===
                      null || u === void 0
                      ? void 0
                      : u.AppleLanguages[0])));
          }),
          (r.prototype.getUUID = function () {
            var t, e;
            return (e = (t = this.reactNativeUUID) === null || t === void 0 ? void 0 : t.v4()) !== null && e !== void 0
              ? e
              : (0, uuid_1.v4)();
          }),
          (r.prototype.setRNDeviceInfo = function (t) {
            var e, n, a, o, s;
            (this.statsigMetadata.appVersion = (e = t.getVersion()) !== null && e !== void 0 ? e : ''),
              (this.statsigMetadata.systemVersion = (n = t.getSystemVersion()) !== null && n !== void 0 ? n : ''),
              (this.statsigMetadata.systemName = (a = t.getSystemName()) !== null && a !== void 0 ? a : ''),
              (this.statsigMetadata.deviceModelName = (o = t.getModel()) !== null && o !== void 0 ? o : ''),
              (this.statsigMetadata.deviceModel = (s = t.getDeviceId()) !== null && s !== void 0 ? s : '');
          }),
          (r.prototype.setExpoConstants = function (t) {
            var e, n;
            this.statsigMetadata.appVersion =
              (n = (e = t.nativeAppVersion) !== null && e !== void 0 ? e : t.nativeBuildVersion) !== null &&
              n !== void 0
                ? n
                : '';
          }),
          (r.prototype.setExpoDevice = function (t) {
            var e, n, a, o;
            (this.statsigMetadata.systemVersion = (e = t.osVersion) !== null && e !== void 0 ? e : ''),
              (this.statsigMetadata.systemName = (n = t.osName) !== null && n !== void 0 ? n : ''),
              (this.statsigMetadata.deviceModelName = (a = t.modelName) !== null && a !== void 0 ? a : ''),
              (this.statsigMetadata.deviceModel = (o = t.modelId) !== null && o !== void 0 ? o : '');
          }),
          r
        );
      })();
    StatsigIdentity.default = Identity;
    var StatsigLogger$1 = {},
      StatsigNetwork = {},
      StatsigRuntime$1 = {};
    Object.defineProperty(StatsigRuntime$1, '__esModule', { value: !0 });
    var StatsigRuntime = (function () {
      function r() {}
      return (r.encodeInitializeCall = !0), r;
    })();
    StatsigRuntime$1.default = StatsigRuntime;
    var Diagnostics = {},
      Timing = {};
    Object.defineProperty(Timing, '__esModule', { value: !0 }), (Timing.difference = Timing.now = void 0);
    function now() {
      return typeof performance > 'u' || !performance ? Date.now() : performance.now() | 0;
    }
    Timing.now = now;
    function difference(r) {
      return now() - r;
    }
    (Timing.difference = difference),
      (function (r) {
        Object.defineProperty(r, '__esModule', { value: !0 }), (r.DiagnosticsKey = r.DiagnosticsEvent = void 0);
        var t = Timing;
        (function (n) {
          (n.START = 'start'), (n.END = 'end');
        })(r.DiagnosticsEvent || (r.DiagnosticsEvent = {})),
          (function (n) {
            (n.OVERALL = 'overall'), (n.INITIALIZE = 'initialize');
          })(r.DiagnosticsKey || (r.DiagnosticsKey = {}));
        var e = (function () {
          function n(a) {
            (this.context = a), (this.markers = []);
          }
          return (
            (n.prototype.getMarkers = function () {
              return { context: this.context, markers: this.markers };
            }),
            (n.prototype.mark = function (a, o, s, u) {
              s === void 0 && (s = null),
                u === void 0 && (u = null),
                this.markers.push({ key: a, step: s, action: o, value: u, timestamp: (0, t.now)() });
            }),
            n
          );
        })();
        r.default = e;
      })(Diagnostics),
      (function (r) {
        var t =
            (commonjsGlobal && commonjsGlobal.__awaiter) ||
            function (l, d, E, b) {
              function S(v) {
                return v instanceof E
                  ? v
                  : new E(function (_) {
                      _(v);
                    });
              }
              return new (E || (E = Promise))(function (v, _) {
                function p(g) {
                  try {
                    c(b.next(g));
                  } catch (m) {
                    _(m);
                  }
                }
                function h(g) {
                  try {
                    c(b.throw(g));
                  } catch (m) {
                    _(m);
                  }
                }
                function c(g) {
                  g.done ? v(g.value) : S(g.value).then(p, h);
                }
                c((b = b.apply(l, d || [])).next());
              });
            },
          e =
            (commonjsGlobal && commonjsGlobal.__generator) ||
            function (l, d) {
              var E = {
                  label: 0,
                  sent: function () {
                    if (v[0] & 1) throw v[1];
                    return v[1];
                  },
                  trys: [],
                  ops: [],
                },
                b,
                S,
                v,
                _;
              return (
                (_ = { next: p(0), throw: p(1), return: p(2) }),
                typeof Symbol == 'function' &&
                  (_[Symbol.iterator] = function () {
                    return this;
                  }),
                _
              );
              function p(c) {
                return function (g) {
                  return h([c, g]);
                };
              }
              function h(c) {
                if (b) throw new TypeError('Generator is already executing.');
                for (; E; )
                  try {
                    if (
                      ((b = 1),
                      S &&
                        (v = c[0] & 2 ? S.return : c[0] ? S.throw || ((v = S.return) && v.call(S), 0) : S.next) &&
                        !(v = v.call(S, c[1])).done)
                    )
                      return v;
                    switch (((S = 0), v && (c = [c[0] & 2, v.value]), c[0])) {
                      case 0:
                      case 1:
                        v = c;
                        break;
                      case 4:
                        return E.label++, { value: c[1], done: !1 };
                      case 5:
                        E.label++, (S = c[1]), (c = [0]);
                        continue;
                      case 7:
                        (c = E.ops.pop()), E.trys.pop();
                        continue;
                      default:
                        if (((v = E.trys), !(v = v.length > 0 && v[v.length - 1]) && (c[0] === 6 || c[0] === 2))) {
                          E = 0;
                          continue;
                        }
                        if (c[0] === 3 && (!v || (c[1] > v[0] && c[1] < v[3]))) {
                          E.label = c[1];
                          break;
                        }
                        if (c[0] === 6 && E.label < v[1]) {
                          (E.label = v[1]), (v = c);
                          break;
                        }
                        if (v && E.label < v[2]) {
                          (E.label = v[2]), E.ops.push(c);
                          break;
                        }
                        v[2] && E.ops.pop(), E.trys.pop();
                        continue;
                    }
                    c = d.call(l, E);
                  } catch (g) {
                    (c = [6, g]), (S = 0);
                  } finally {
                    b = v = 0;
                  }
                if (c[0] & 5) throw c[1];
                return { value: c[0] ? c[1] : void 0, done: !0 };
              }
            },
          n =
            (commonjsGlobal && commonjsGlobal.__importDefault) ||
            function (l) {
              return l && l.__esModule ? l : { default: l };
            };
        Object.defineProperty(r, '__esModule', { value: !0 }), (r.StatsigEndpoint = void 0);
        var a = n(StatsigRuntime$1),
          o = Diagnostics,
          s;
        (function (l) {
          (l.Initialize = 'initialize'), (l.Rgstr = 'rgstr'), (l.LogEventBeacon = 'log_event_beacon');
        })((s = r.StatsigEndpoint || (r.StatsigEndpoint = {})));
        var u = 204,
          y = (function () {
            function l(d) {
              (this.retryCodes = { 408: !0, 500: !0, 502: !0, 503: !0, 504: !0, 522: !0, 524: !0, 599: !0 }),
                (this.canUseKeepalive = !1),
                (this.sdkInternal = d),
                (this.leakyBucket = {}),
                this.init();
            }
            return (
              (l.prototype.init = function () {
                if (!this.sdkInternal.getOptions().getDisableNetworkKeepalive())
                  try {
                    this.canUseKeepalive = 'keepalive' in new Request('');
                  } catch {}
              }),
              (l.prototype.fetchValues = function (d, E, b, S, v, _, p) {
                var h = {
                  user: d,
                  prefetchUsers: p,
                  statsigMetadata: this.sdkInternal.getStatsigMetadata(),
                  sinceTime: E ?? void 0,
                };
                return this.postWithTimeout(s.Initialize, h, S, v, _, b, 3);
              }),
              (l.prototype.postWithTimeout = function (d, E, b, S, v, _, p, h) {
                var c = this;
                _ === void 0 && (_ = 0),
                  p === void 0 && (p = 0),
                  h === void 0 && (h = 1e3),
                  d === s.Initialize &&
                    (v == null || v.mark(o.DiagnosticsKey.INITIALIZE, o.DiagnosticsEvent.START, 'network_request'));
                var g = this.postToEndpoint(d, E, p, h)
                  .then(function (A) {
                    if (
                      (d === s.Initialize &&
                        (v == null ||
                          v.mark(o.DiagnosticsKey.INITIALIZE, o.DiagnosticsEvent.END, 'network_request', A.status)),
                      !A.ok)
                    )
                      return Promise.reject(new Error('Request to ' + d + ' failed with status ' + A.status));
                    if (typeof A.data != 'object') {
                      var I = new Error(
                        'Request to ' +
                          d +
                          " received invalid response type. Expected 'object' but got '" +
                          typeof A.data +
                          "'"
                      );
                      return (
                        c.sdkInternal.getErrorBoundary().logError('postWithTimeoutInvalidRes', I, function () {
                          return t(c, void 0, void 0, function () {
                            return e(this, function (L) {
                              return [2, this.getErrorData(d, E, p, h, A)];
                            });
                          });
                        }),
                        Promise.reject(I)
                      );
                    }
                    var w = A.data;
                    return c.sdkInternal.getErrorBoundary().capture(
                      'postWithTimeout',
                      function () {
                        return t(c, void 0, void 0, function () {
                          return e(this, function (L) {
                            return b(w), [2, Promise.resolve(w)];
                          });
                        });
                      },
                      function () {
                        return Promise.resolve({});
                      },
                      function () {
                        return t(c, void 0, void 0, function () {
                          return e(this, function (L) {
                            return [2, this.getErrorData(d, E, p, h, A)];
                          });
                        });
                      }
                    );
                  })
                  .then(function () {})
                  .catch(function (A) {
                    return (
                      d === s.Initialize &&
                        (v == null ||
                          v.mark(o.DiagnosticsKey.INITIALIZE, o.DiagnosticsEvent.END, 'network_request', !1)),
                      typeof S == 'function' && S(A),
                      Promise.reject(A)
                    );
                  });
                if (_ != 0) {
                  var m = new Promise(function (A, I) {
                    setTimeout(function () {
                      I(
                        new Error(
                          'The initialization timeout of ' +
                            _ +
                            'ms has been hit before the network request has completed.'
                        )
                      );
                    }, _);
                  });
                  return Promise.race([g, m]);
                }
                return g;
              }),
              (l.prototype.sendLogBeacon = function (d) {
                if (this.sdkInternal.getOptions().getLocalModeEnabled()) return !0;
                var E = new URL(this.sdkInternal.getOptions().getEventLoggingApi() + s.LogEventBeacon);
                E.searchParams.append('k', this.sdkInternal.getSDKKey()), (d.clientTime = Date.now() + '');
                var b = null;
                try {
                  b = JSON.stringify(d);
                } catch {
                  return !1;
                }
                return navigator.sendBeacon(E.toString(), b);
              }),
              (l.prototype.postToEndpoint = function (d, E, b, S, v) {
                return (
                  b === void 0 && (b = 0),
                  S === void 0 && (S = 1e3),
                  v === void 0 && (v = !1),
                  t(this, void 0, void 0, function () {
                    var _,
                      p,
                      h,
                      c,
                      g,
                      m,
                      A,
                      I = this;
                    return e(this, function (w) {
                      if (this.sdkInternal.getOptions().getLocalModeEnabled())
                        return [2, Promise.reject('no network requests in localMode')];
                      if (typeof fetch != 'function') return [2, Promise.reject('fetch is not defined')];
                      if (typeof window > 'u' && !this.sdkInternal.getOptions().getIgnoreWindowUndefined())
                        return [2, Promise.reject('window is not defined')];
                      if (
                        ((_ =
                          d == s.Initialize
                            ? this.sdkInternal.getOptions().getApi()
                            : this.sdkInternal.getOptions().getEventLoggingApi()),
                        (p = _ + d),
                        (h = this.leakyBucket[p]),
                        h != null && h >= 30)
                      )
                        return [
                          2,
                          Promise.reject(
                            new Error('Request failed because you are making the same request too frequently.')
                          ),
                        ];
                      if (
                        (h == null ? (this.leakyBucket[p] = 1) : (this.leakyBucket[p] = h + 1),
                        (c =
                          d === s.Initialize &&
                          a.default.encodeInitializeCall &&
                          typeof window < 'u' &&
                          typeof (window == null ? void 0 : window.btoa) == 'function'),
                        (g = JSON.stringify(E)),
                        c)
                      )
                        try {
                          (m = window.btoa(g).split('').reverse().join('')), (g = m);
                        } catch {
                          c = !1;
                        }
                      return (
                        (A = {
                          method: 'POST',
                          body: g,
                          headers: {
                            'Content-type': 'application/json; charset=UTF-8',
                            'STATSIG-API-KEY': this.sdkInternal.getSDKKey(),
                            'STATSIG-CLIENT-TIME': Date.now() + '',
                            'STATSIG-SDK-TYPE': this.sdkInternal.getSDKType(),
                            'STATSIG-SDK-VERSION': this.sdkInternal.getSDKVersion(),
                            'STATSIG-ENCODED': c ? '1' : '0',
                          },
                        }),
                        this.canUseKeepalive && v && (A.keepalive = !0),
                        [
                          2,
                          fetch(p, A)
                            .then(function (L) {
                              return t(I, void 0, void 0, function () {
                                var x, T, C;
                                return e(this, function (O) {
                                  switch (O.label) {
                                    case 0:
                                      return L.ok
                                        ? ((x = L), L.status !== u ? [3, 1] : ((x.data = { has_updates: !1 }), [3, 3]))
                                        : [3, 4];
                                    case 1:
                                      return [4, L.text()];
                                    case 2:
                                      (T = O.sent()), (x.data = JSON.parse(T)), (O.label = 3);
                                    case 3:
                                      return [2, Promise.resolve(x)];
                                    case 4:
                                      return this.retryCodes[L.status] || (b = 0), [4, L.text()];
                                    case 5:
                                      return (C = O.sent()), [2, Promise.reject(new Error(L.status + ': ' + C))];
                                  }
                                });
                              });
                            })
                            .catch(function (L) {
                              return b > 0
                                ? new Promise(function (x, T) {
                                    setTimeout(function () {
                                      (I.leakyBucket[p] = Math.max(I.leakyBucket[p] - 1, 0)),
                                        I.postToEndpoint(d, E, b - 1, S * 2, v)
                                          .then(x)
                                          .catch(T);
                                    }, S);
                                  })
                                : Promise.reject(L);
                            })
                            .finally(function () {
                              I.leakyBucket[p] = Math.max(I.leakyBucket[p] - 1, 0);
                            }),
                        ]
                      );
                    });
                  })
                );
              }),
              (l.prototype.supportsKeepalive = function () {
                return this.canUseKeepalive;
              }),
              (l.prototype.getErrorData = function (d, E, b, S, v) {
                var _;
                return t(this, void 0, void 0, function () {
                  var p;
                  return e(this, function (h) {
                    try {
                      return (
                        (p = {}),
                        ((_ = v.headers) !== null && _ !== void 0 ? _ : []).forEach(function (c, g) {
                          p[g] = c;
                        }),
                        [
                          2,
                          {
                            responseInfo: {
                              headers: p,
                              status: v.status,
                              statusText: v.statusText,
                              type: v.type,
                              url: v.url,
                              redirected: v.redirected,
                              bodySnippet: v.data ? JSON.stringify(v.data).slice(0, 500) : null,
                            },
                            requestInfo: {
                              endpointName: d,
                              bodySnippet: JSON.stringify(E).slice(0, 500),
                              retries: b,
                              backoff: S,
                            },
                          },
                        ]
                      );
                    } catch {
                      return [2, { statusText: 'statsig::failed to extract extra data' }];
                    }
                    return [2];
                  });
                });
              }),
              l
            );
          })();
        r.default = y;
      })(StatsigNetwork);
    var __awaiter$1 =
        (commonjsGlobal && commonjsGlobal.__awaiter) ||
        function (r, t, e, n) {
          function a(o) {
            return o instanceof e
              ? o
              : new e(function (s) {
                  s(o);
                });
          }
          return new (e || (e = Promise))(function (o, s) {
            function u(d) {
              try {
                l(n.next(d));
              } catch (E) {
                s(E);
              }
            }
            function y(d) {
              try {
                l(n.throw(d));
              } catch (E) {
                s(E);
              }
            }
            function l(d) {
              d.done ? o(d.value) : a(d.value).then(u, y);
            }
            l((n = n.apply(r, t || [])).next());
          });
        },
      __generator$1 =
        (commonjsGlobal && commonjsGlobal.__generator) ||
        function (r, t) {
          var e = {
              label: 0,
              sent: function () {
                if (o[0] & 1) throw o[1];
                return o[1];
              },
              trys: [],
              ops: [],
            },
            n,
            a,
            o,
            s;
          return (
            (s = { next: u(0), throw: u(1), return: u(2) }),
            typeof Symbol == 'function' &&
              (s[Symbol.iterator] = function () {
                return this;
              }),
            s
          );
          function u(l) {
            return function (d) {
              return y([l, d]);
            };
          }
          function y(l) {
            if (n) throw new TypeError('Generator is already executing.');
            for (; e; )
              try {
                if (
                  ((n = 1),
                  a &&
                    (o = l[0] & 2 ? a.return : l[0] ? a.throw || ((o = a.return) && o.call(a), 0) : a.next) &&
                    !(o = o.call(a, l[1])).done)
                )
                  return o;
                switch (((a = 0), o && (l = [l[0] & 2, o.value]), l[0])) {
                  case 0:
                  case 1:
                    o = l;
                    break;
                  case 4:
                    return e.label++, { value: l[1], done: !1 };
                  case 5:
                    e.label++, (a = l[1]), (l = [0]);
                    continue;
                  case 7:
                    (l = e.ops.pop()), e.trys.pop();
                    continue;
                  default:
                    if (((o = e.trys), !(o = o.length > 0 && o[o.length - 1]) && (l[0] === 6 || l[0] === 2))) {
                      e = 0;
                      continue;
                    }
                    if (l[0] === 3 && (!o || (l[1] > o[0] && l[1] < o[3]))) {
                      e.label = l[1];
                      break;
                    }
                    if (l[0] === 6 && e.label < o[1]) {
                      (e.label = o[1]), (o = l);
                      break;
                    }
                    if (o && e.label < o[2]) {
                      (e.label = o[2]), e.ops.push(l);
                      break;
                    }
                    o[2] && e.ops.pop(), e.trys.pop();
                    continue;
                }
                l = t.call(r, e);
              } catch (d) {
                (l = [6, d]), (a = 0);
              } finally {
                n = o = 0;
              }
            if (l[0] & 5) throw l[1];
            return { value: l[0] ? l[1] : void 0, done: !0 };
          }
        },
      __importDefault$1 =
        (commonjsGlobal && commonjsGlobal.__importDefault) ||
        function (r) {
          return r && r.__esModule ? r : { default: r };
        };
    Object.defineProperty(StatsigLogger$1, '__esModule', { value: !0 });
    var LogEvent_1$1 = __importDefault$1(LogEvent$1),
      StatsigNetwork_1$1 = StatsigNetwork,
      Constants_1 = Constants,
      StatsigAsyncStorage_1$1 = __importDefault$1(StatsigAsyncStorage$1),
      StatsigLocalStorage_1$1 = __importDefault$1(StatsigLocalStorage$1),
      INTERNAL_EVENT_PREFIX = 'statsig::',
      CONFIG_EXPOSURE_EVENT = INTERNAL_EVENT_PREFIX + 'config_exposure',
      LAYER_EXPOSURE_EVENT = INTERNAL_EVENT_PREFIX + 'layer_exposure',
      GATE_EXPOSURE_EVENT = INTERNAL_EVENT_PREFIX + 'gate_exposure',
      LOG_FAILURE_EVENT = INTERNAL_EVENT_PREFIX + 'log_event_failed',
      APP_ERROR_EVENT = INTERNAL_EVENT_PREFIX + 'app_error',
      APP_METRICS_PAGE_LOAD_EVENT = INTERNAL_EVENT_PREFIX + 'app_metrics::page_load_time',
      APP_METRICS_DOM_INTERACTIVE_EVENT = INTERNAL_EVENT_PREFIX + 'app_metrics::dom_interactive_time',
      DIAGNOSTICS_EVENT = INTERNAL_EVENT_PREFIX + 'diagnostics',
      DEFAULT_VALUE_WARNING = INTERNAL_EVENT_PREFIX + 'default_value_type_mismatch',
      MS_RETRY_LOGS_CUTOFF = 5 * 24 * 60 * 60 * 1e3,
      MAX_BATCHES_TO_RETRY = 100,
      MAX_FAILED_EVENTS = 1e3,
      MAX_LOCAL_STORAGE_SIZE = 1024 * MAX_FAILED_EVENTS,
      MAX_ERRORS_TO_LOG = 10,
      StatsigLogger = (function () {
        function r(t) {
          (this.failedLogEventCount = 0),
            (this.sdkInternal = t),
            (this.queue = []),
            (this.flushInterval = null),
            (this.loggedErrors = new Set()),
            (this.failedLogEvents = []),
            (this.exposureDedupeKeys = {}),
            (this.failedLogEventCount = 0),
            this.init();
        }
        return (
          (r.prototype.init = function () {
            var t = this;
            if (
              (typeof window < 'u' &&
                typeof window.addEventListener == 'function' &&
                (window.addEventListener('blur', function () {
                  return t.flush(!0);
                }),
                window.addEventListener('beforeunload', function () {
                  return t.flush(!0);
                }),
                window.addEventListener('load', function () {
                  setTimeout(function () {
                    return t.flush();
                  }, 100),
                    setTimeout(function () {
                      return t.flush();
                    }, 1e3);
                })),
              typeof document < 'u' &&
                typeof document.addEventListener == 'function' &&
                document.addEventListener('visibilitychange', function () {
                  t.flush(document.visibilityState !== 'visible');
                }),
              !(!this.sdkInternal.getOptions().getIgnoreWindowUndefined() && (typeof window > 'u' || window == null)) &&
                !this.sdkInternal.getOptions().getLocalModeEnabled())
            ) {
              var e = this;
              (this.flushInterval = setInterval(function () {
                e.flush();
              }, this.sdkInternal.getOptions().getLoggingIntervalMillis())),
                setTimeout(function () {
                  return t.flush();
                }, 100),
                setTimeout(function () {
                  return t.flush();
                }, 1e3);
            }
          }),
          (r.prototype.log = function (t) {
            try {
              if (
                !this.sdkInternal.getOptions().getDisableCurrentPageLogging() &&
                typeof window < 'u' &&
                window != null &&
                typeof window.location == 'object' &&
                typeof window.location.href == 'string'
              ) {
                var e = window.location.href.split(/[?#]/);
                (e == null ? void 0 : e.length) > 0 && t.addStatsigMetadata('currentPage', e[0]);
              }
            } catch {}
            this.queue.push(t.toJsonObject()),
              this.queue.length >= this.sdkInternal.getOptions().getLoggingBufferMaxSize() && this.flush();
          }),
          (r.prototype.resetDedupeKeys = function () {
            this.exposureDedupeKeys = {};
          }),
          (r.prototype.shouldLogExposure = function (t) {
            var e = this.exposureDedupeKeys[t],
              n = Date.now();
            return e == null
              ? ((this.exposureDedupeKeys[t] = n), !0)
              : e >= n - 600 * 1e3
              ? !1
              : ((this.exposureDedupeKeys[t] = n), !0);
          }),
          (r.prototype.logGateExposure = function (t, e, n, a, o, s, u) {
            var y = e + String(n) + a + s.reason;
            if (this.shouldLogExposure(y)) {
              var l = { gate: e, gateValue: String(n), ruleID: a, reason: s.reason, time: s.time };
              u && (l.isManualExposure = 'true');
              var d = new LogEvent_1$1.default(GATE_EXPOSURE_EVENT);
              d.setUser(t), d.setMetadata(l), d.setSecondaryExposures(o), this.log(d);
            }
          }),
          (r.prototype.logConfigExposure = function (t, e, n, a, o, s) {
            var u = e + n + o.reason;
            if (this.shouldLogExposure(u)) {
              var y = { config: e, ruleID: n, reason: o.reason, time: o.time };
              s && (y.isManualExposure = 'true');
              var l = new LogEvent_1$1.default(CONFIG_EXPOSURE_EVENT);
              l.setUser(t), l.setMetadata(y), l.setSecondaryExposures(a), this.log(l);
            }
          }),
          (r.prototype.logLayerExposure = function (t, e, n, a, o, s, u, y, l) {
            var d = [e, n, o, s, String(u), y.reason].join('|');
            if (this.shouldLogExposure(d)) {
              var E = {
                config: e,
                ruleID: n,
                allocatedExperiment: o,
                parameterName: s,
                isExplicitParameter: String(u),
                reason: y.reason,
                time: y.time,
              };
              l && (E.isManualExposure = 'true');
              var b = new LogEvent_1$1.default(LAYER_EXPOSURE_EVENT);
              b.setUser(t), b.setMetadata(E), b.setSecondaryExposures(a), this.log(b);
            }
          }),
          (r.prototype.logConfigDefaultValueFallback = function (t, e, n) {
            var a = new LogEvent_1$1.default(DEFAULT_VALUE_WARNING);
            a.setUser(t),
              a.setValue(e),
              a.setMetadata(n),
              this.log(a),
              this.loggedErrors.add(e),
              this.sdkInternal.getConsoleLogger().error(e);
          }),
          (r.prototype.logAppError = function (t, e, n) {
            var a = e.substring(0, 128);
            if (!(this.loggedErrors.has(a) || this.loggedErrors.size > MAX_ERRORS_TO_LOG)) {
              var o = new LogEvent_1$1.default(APP_ERROR_EVENT);
              o.setUser(t), o.setValue(a), o.setMetadata(n), this.log(o), this.loggedErrors.add(a);
            }
          }),
          (r.prototype.logDiagnostics = function (t, e) {
            var n = new LogEvent_1$1.default(DIAGNOSTICS_EVENT);
            n.setUser(t), n.setMetadata(e.getMarkers()), this.log(n);
          }),
          (r.prototype.logAppMetrics = function (t) {
            var e;
            if (
              typeof ((e = window == null ? void 0 : window.performance) === null || e === void 0
                ? void 0
                : e.getEntriesByType) == 'function'
            ) {
              var n = window.performance.getEntriesByType('navigation');
              if (!(!n || n.length < 1)) {
                var a = n[0],
                  o = { statsig_dimensions: { url: a.name } },
                  s = new LogEvent_1$1.default(APP_METRICS_PAGE_LOAD_EVENT);
                s.setUser(t), s.setValue(a.duration), s.setMetadata(o), this.log(s);
                var u = new LogEvent_1$1.default(APP_METRICS_DOM_INTERACTIVE_EVENT);
                u.setUser(t), u.setValue(a.domInteractive - a.startTime), u.setMetadata(o), this.log(u);
              }
            }
          }),
          (r.prototype.shutdown = function () {
            this.flushInterval && (clearInterval(this.flushInterval), (this.flushInterval = null)), this.flush(!0);
          }),
          (r.prototype.flush = function (t) {
            var e = this;
            if ((t === void 0 && (t = !1), this.queue.length !== 0)) {
              var n = this.queue;
              if (
                ((this.queue = []),
                t &&
                  !this.sdkInternal.getNetwork().supportsKeepalive() &&
                  typeof navigator < 'u' &&
                  navigator != null &&
                  navigator.sendBeacon)
              ) {
                var a = this.sdkInternal
                  .getNetwork()
                  .sendLogBeacon({ events: n, statsigMetadata: this.sdkInternal.getStatsigMetadata() });
                a ||
                  ((this.queue = n.concat(this.queue)),
                  this.queue.length > 0 &&
                    (this.addFailedRequest({
                      events: this.queue,
                      statsigMetadata: this.sdkInternal.getStatsigMetadata(),
                      time: Date.now(),
                    }),
                    (this.queue = [])),
                  this.saveFailedRequests());
                return;
              }
              var o = this;
              this.sdkInternal
                .getNetwork()
                .postToEndpoint(
                  StatsigNetwork_1$1.StatsigEndpoint.Rgstr,
                  { events: n, statsigMetadata: this.sdkInternal.getStatsigMetadata() },
                  3,
                  1e3,
                  t
                )
                .then(function (s) {
                  if (!s.ok) throw s;
                })
                .catch(function (s) {
                  if (typeof s.text == 'function')
                    s.text().then(function (y) {
                      var l = new LogEvent_1$1.default(LOG_FAILURE_EVENT);
                      l.setMetadata({ error: s.status + ': ' + y }),
                        l.setUser(o.sdkInternal.getCurrentUser()),
                        o.appendFailureLog(l, n);
                    });
                  else {
                    var u = new LogEvent_1$1.default(LOG_FAILURE_EVENT);
                    u.setMetadata({ error: s.message }),
                      u.setUser(o.sdkInternal.getCurrentUser()),
                      o.appendFailureLog(u, n);
                  }
                })
                .finally(function () {
                  return __awaiter$1(e, void 0, void 0, function () {
                    return __generator$1(this, function (s) {
                      switch (s.label) {
                        case 0:
                          return t
                            ? (this.queue.length > 0 &&
                                (this.addFailedRequest({
                                  events: this.queue,
                                  statsigMetadata: this.sdkInternal.getStatsigMetadata(),
                                  time: Date.now(),
                                }),
                                (this.queue = [])),
                              [4, o.saveFailedRequests()])
                            : [3, 2];
                        case 1:
                          s.sent(), (s.label = 2);
                        case 2:
                          return [2];
                      }
                    });
                  });
                });
            }
          }),
          (r.prototype.saveFailedRequests = function () {
            return __awaiter$1(this, void 0, void 0, function () {
              var t;
              return __generator$1(this, function (e) {
                switch (e.label) {
                  case 0:
                    return this.failedLogEvents.length > 0
                      ? ((t = JSON.stringify(this.failedLogEvents)),
                        t.length > MAX_LOCAL_STORAGE_SIZE
                          ? (this.clearLocalStorageRequests(), [2])
                          : StatsigAsyncStorage_1$1.default.asyncStorage
                          ? [
                              4,
                              StatsigAsyncStorage_1$1.default.setItemAsync(
                                Constants_1.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,
                                t
                              ),
                            ]
                          : [3, 2])
                      : [3, 3];
                  case 1:
                    return e.sent(), [2];
                  case 2:
                    StatsigLocalStorage_1$1.default.setItem(Constants_1.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY, t),
                      (e.label = 3);
                  case 3:
                    return [2];
                }
              });
            });
          }),
          (r.prototype.sendSavedRequests = function () {
            return __awaiter$1(this, void 0, void 0, function () {
              var t,
                e,
                n,
                a,
                o,
                s,
                u,
                y,
                l = this;
              return __generator$1(this, function (d) {
                switch (d.label) {
                  case 0:
                    return (
                      (e = !1),
                      StatsigAsyncStorage_1$1.default.asyncStorage
                        ? [
                            4,
                            StatsigAsyncStorage_1$1.default.getItemAsync(
                              Constants_1.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY
                            ),
                          ]
                        : [3, 2]
                    );
                  case 1:
                    return (t = d.sent()), [3, 3];
                  case 2:
                    (t = StatsigLocalStorage_1$1.default.getItem(
                      Constants_1.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY
                    )),
                      (d.label = 3);
                  case 3:
                    if (t == null) return this.clearLocalStorageRequests(), [2];
                    t.length > MAX_LOCAL_STORAGE_SIZE && (e = !0), (n = []);
                    try {
                      for (
                        n = JSON.parse(t),
                          a = function (E) {
                            E != null &&
                              E.events &&
                              Array.isArray(E.events) &&
                              o.sdkInternal
                                .getNetwork()
                                .postToEndpoint(StatsigNetwork_1$1.StatsigEndpoint.Rgstr, E)
                                .then(function (b) {
                                  if (!b.ok) throw Error(b.status + '');
                                })
                                .catch(function (b) {
                                  e || l.addFailedRequest(E);
                                });
                          },
                          o = this,
                          s = 0,
                          u = n;
                        s < u.length;
                        s++
                      )
                        (y = u[s]), a(y);
                    } catch {
                    } finally {
                      this.clearLocalStorageRequests();
                    }
                    return [2];
                }
              });
            });
          }),
          (r.prototype.addFailedRequest = function (t) {
            if (
              !(t.time < Date.now() - MS_RETRY_LOGS_CUTOFF) &&
              !(this.failedLogEvents.length > MAX_BATCHES_TO_RETRY)
            ) {
              var e = t.events.length;
              this.failedLogEventCount + e > MAX_FAILED_EVENTS ||
                (this.failedLogEvents.push(t), (this.failedLogEventCount += e));
            }
          }),
          (r.prototype.clearLocalStorageRequests = function () {
            StatsigAsyncStorage_1$1.default.asyncStorage
              ? StatsigAsyncStorage_1$1.default.removeItemAsync(Constants_1.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)
              : StatsigLocalStorage_1$1.default.removeItem(Constants_1.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY);
          }),
          (r.prototype.appendFailureLog = function (t, e) {
            this.loggedErrors.has(t.getName()) ||
              (this.loggedErrors.add(t.getName()),
              e.push(t),
              this.failedLogEvents.push({
                events: e,
                statsigMetadata: this.sdkInternal.getStatsigMetadata(),
                time: Date.now(),
              }),
              this.saveFailedRequests());
          }),
          r
        );
      })();
    StatsigLogger$1.default = StatsigLogger;
    var StatsigSDKOptions = {};
    (function (r) {
      Object.defineProperty(r, '__esModule', { value: !0 }), (r.LogLevel = void 0);
      var t = 'https://featuregates.org/v1/',
        e = 'https://events.statsigapi.net/v1/',
        n;
      (function (o) {
        (o[(o.NONE = 0)] = 'NONE'), (o[(o.INFO = 1)] = 'INFO'), (o[(o.DEBUG = 2)] = 'DEBUG');
      })((n = r.LogLevel || (r.LogLevel = {})));
      var a = (function () {
        function o(s) {
          var u, y, l, d, E, b, S, v, _, p, h, c, g, m, A, I, w;
          s == null && (s = {});
          var L = (u = s.api) !== null && u !== void 0 ? u : t;
          (this.api = L.endsWith('/') ? L : L + '/'),
            (this.disableCurrentPageLogging = (y = s.disableCurrentPageLogging) !== null && y !== void 0 ? y : !1),
            (this.environment = (l = s.environment) !== null && l !== void 0 ? l : null),
            (this.loggingIntervalMillis = this.normalizeNumberInput(s.loggingIntervalMillis, {
              default: 1e4,
              min: 1e3,
              max: 6e4,
            })),
            (this.loggingBufferMaxSize = this.normalizeNumberInput(s.loggingBufferMaxSize, {
              default: 100,
              min: 2,
              max: 500,
            })),
            (this.disableNetworkKeepalive = (d = s.disableNetworkKeepalive) !== null && d !== void 0 ? d : !1),
            (this.overrideStableID = (E = s.overrideStableID) !== null && E !== void 0 ? E : null),
            (this.localMode = (b = s.localMode) !== null && b !== void 0 ? b : !1),
            (this.initTimeoutMs = s.initTimeoutMs && s.initTimeoutMs >= 0 ? s.initTimeoutMs : 3e3),
            (this.disableErrorLogging = (S = s.disableErrorLogging) !== null && S !== void 0 ? S : !1),
            (this.disableAutoMetricsLogging = (v = s.disableAutoMetricsLogging) !== null && v !== void 0 ? v : !1),
            (this.initializeValues = (_ = s.initializeValues) !== null && _ !== void 0 ? _ : null);
          var x = (h = (p = s.eventLoggingApi) !== null && p !== void 0 ? p : s.api) !== null && h !== void 0 ? h : e;
          (this.eventLoggingApi = x.endsWith('/') ? x : x + '/'),
            (this.prefetchUsers = (c = s.prefetchUsers) !== null && c !== void 0 ? c : []),
            (this.disableLocalStorage = (g = s.disableLocalStorage) !== null && g !== void 0 ? g : !1),
            (this.initCompletionCallback = (m = s.initCompletionCallback) !== null && m !== void 0 ? m : null),
            (this.disableDiagnosticsLogging = (A = s.disableDiagnosticsLogging) !== null && A !== void 0 ? A : !1),
            (this.logLevel = (I = s == null ? void 0 : s.logLevel) !== null && I !== void 0 ? I : n.NONE),
            (this.ignoreWindowUndefined =
              (w = s == null ? void 0 : s.ignoreWindowUndefined) !== null && w !== void 0 ? w : !1);
        }
        return (
          (o.prototype.getApi = function () {
            return this.api;
          }),
          (o.prototype.getEnvironment = function () {
            return this.environment;
          }),
          (o.prototype.getDisableCurrentPageLogging = function () {
            return this.disableCurrentPageLogging;
          }),
          (o.prototype.getLoggingIntervalMillis = function () {
            return this.loggingIntervalMillis;
          }),
          (o.prototype.getLoggingBufferMaxSize = function () {
            return this.loggingBufferMaxSize;
          }),
          (o.prototype.getDisableNetworkKeepalive = function () {
            return this.disableNetworkKeepalive;
          }),
          (o.prototype.getOverrideStableID = function () {
            return this.overrideStableID;
          }),
          (o.prototype.getLocalModeEnabled = function () {
            return this.localMode;
          }),
          (o.prototype.getInitTimeoutMs = function () {
            return this.initTimeoutMs;
          }),
          (o.prototype.getDisableErrorLogging = function () {
            return this.disableErrorLogging;
          }),
          (o.prototype.getDisableAutoMetricsLogging = function () {
            return this.disableAutoMetricsLogging;
          }),
          (o.prototype.getEventLoggingApi = function () {
            return this.eventLoggingApi;
          }),
          (o.prototype.getPrefetchUsers = function () {
            return this.prefetchUsers;
          }),
          (o.prototype.getDisableLocalStorage = function () {
            return this.disableLocalStorage;
          }),
          (o.prototype.getInitCompletionCallback = function () {
            return this.initCompletionCallback;
          }),
          (o.prototype.getDisableDiagnosticsLogging = function () {
            return this.disableDiagnosticsLogging;
          }),
          (o.prototype.getLogLevel = function () {
            return this.logLevel;
          }),
          (o.prototype.getIgnoreWindowUndefined = function () {
            return this.ignoreWindowUndefined;
          }),
          (o.prototype.normalizeNumberInput = function (s, u) {
            return s == null ? u.default : Math.max(Math.min(s, u.max), u.min);
          }),
          o
        );
      })();
      r.default = a;
    })(StatsigSDKOptions);
    var StatsigStore = {},
      BootstrapValidator$1 = {},
      __assign$1 =
        (commonjsGlobal && commonjsGlobal.__assign) ||
        function () {
          return (
            (__assign$1 =
              Object.assign ||
              function (r) {
                for (var t, e = 1, n = arguments.length; e < n; e++) {
                  t = arguments[e];
                  for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (r[a] = t[a]);
                }
                return r;
              }),
            __assign$1.apply(this, arguments)
          );
        };
    Object.defineProperty(BootstrapValidator$1, '__esModule', { value: !0 });
    var BootstrapValidator = (function () {
      function r() {}
      return (
        (r.isValid = function (t, e) {
          try {
            var n = e.evaluated_keys;
            if (!n || typeof n != 'object') return !0;
            for (
              var a = this.copyObject(n ?? {}),
                o = this.copyObject(__assign$1({}, t == null ? void 0 : t.customIDs)),
                s = 0,
                u = Object.entries(a);
              s < u.length;
              s++
            ) {
              var y = u[s],
                l = y[0],
                d = y[1];
              switch (l) {
                case 'userID':
                  if (d !== (t == null ? void 0 : t.userID)) return !1;
                  break;
                case 'customIDs':
                  if (typeof d != 'object' || typeof o != 'object') return !1;
                  if ((d != null && d.stableID) || (o != null && o.stableID)) var E = 1;
                  d == null || delete d.stableID, o == null || delete o.stableID;
                  var b = Object.keys(d),
                    S = Object.keys(o);
                  if (b.length !== S.length) return !1;
                  for (var v = 0, _ = Object.entries(d); v < _.length; v++) {
                    var p = _[v],
                      h = p[0],
                      c = p[1];
                    if (o[h] !== c) return !1;
                  }
                  break;
              }
            }
          } catch {}
          return !0;
        }),
        (r.copyObject = function (t) {
          return JSON.parse(JSON.stringify(t));
        }),
        r
      );
    })();
    BootstrapValidator$1.default = BootstrapValidator;
    var Hashing = {},
      sha256Exports = {},
      sha256 = {
        get exports() {
          return sha256Exports;
        },
        set exports(r) {
          sha256Exports = r;
        },
      };
    /**
     * [js-sha256]{@link https://github.com/emn178/js-sha256}
     *
     * @version 0.9.0
     * @author Chen, Yi-Cyuan [emn178@gmail.com]
     * @copyright Chen, Yi-Cyuan 2014-2017
     * @license MIT
     */ (function (module) {
      (function () {
        var ERROR = 'input is invalid type',
          WINDOW = typeof window == 'object',
          root = WINDOW ? window : {};
        root.JS_SHA256_NO_WINDOW && (WINDOW = !1);
        var WEB_WORKER = !WINDOW && typeof self == 'object',
          NODE_JS =
            !root.JS_SHA256_NO_NODE_JS && typeof process == 'object' && process.versions && process.versions.node;
        NODE_JS ? (root = commonjsGlobal) : WEB_WORKER && (root = self);
        var COMMON_JS = !root.JS_SHA256_NO_COMMON_JS && !0 && module.exports,
          ARRAY_BUFFER = !root.JS_SHA256_NO_ARRAY_BUFFER && typeof ArrayBuffer < 'u',
          HEX_CHARS = '0123456789abcdef'.split(''),
          EXTRA = [-2147483648, 8388608, 32768, 128],
          SHIFT = [24, 16, 8, 0],
          K = [
            1116352408, 1899447441, 3049323471, 3921009573, 961987163, 1508970993, 2453635748, 2870763221, 3624381080,
            310598401, 607225278, 1426881987, 1925078388, 2162078206, 2614888103, 3248222580, 3835390401, 4022224774,
            264347078, 604807628, 770255983, 1249150122, 1555081692, 1996064986, 2554220882, 2821834349, 2952996808,
            3210313671, 3336571891, 3584528711, 113926993, 338241895, 666307205, 773529912, 1294757372, 1396182291,
            1695183700, 1986661051, 2177026350, 2456956037, 2730485921, 2820302411, 3259730800, 3345764771, 3516065817,
            3600352804, 4094571909, 275423344, 430227734, 506948616, 659060556, 883997877, 958139571, 1322822218,
            1537002063, 1747873779, 1955562222, 2024104815, 2227730452, 2361852424, 2428436474, 2756734187, 3204031479,
            3329325298,
          ],
          OUTPUT_TYPES = ['hex', 'array', 'digest', 'arrayBuffer'],
          blocks = [];
        (root.JS_SHA256_NO_NODE_JS || !Array.isArray) &&
          (Array.isArray = function (r) {
            return Object.prototype.toString.call(r) === '[object Array]';
          }),
          ARRAY_BUFFER &&
            (root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW || !ArrayBuffer.isView) &&
            (ArrayBuffer.isView = function (r) {
              return typeof r == 'object' && r.buffer && r.buffer.constructor === ArrayBuffer;
            });
        var createOutputMethod = function (r, t) {
            return function (e) {
              return new Sha256(t, !0).update(e)[r]();
            };
          },
          createMethod = function (r) {
            var t = createOutputMethod('hex', r);
            NODE_JS && (t = nodeWrap(t, r)),
              (t.create = function () {
                return new Sha256(r);
              }),
              (t.update = function (a) {
                return t.create().update(a);
              });
            for (var e = 0; e < OUTPUT_TYPES.length; ++e) {
              var n = OUTPUT_TYPES[e];
              t[n] = createOutputMethod(n, r);
            }
            return t;
          },
          nodeWrap = function (method, is224) {
            var crypto = eval("require('crypto')"),
              Buffer = eval("require('buffer').Buffer"),
              algorithm = is224 ? 'sha224' : 'sha256',
              nodeMethod = function (r) {
                if (typeof r == 'string') return crypto.createHash(algorithm).update(r, 'utf8').digest('hex');
                if (r == null) throw new Error(ERROR);
                return (
                  r.constructor === ArrayBuffer && (r = new Uint8Array(r)),
                  Array.isArray(r) || ArrayBuffer.isView(r) || r.constructor === Buffer
                    ? crypto.createHash(algorithm).update(new Buffer(r)).digest('hex')
                    : method(r)
                );
              };
            return nodeMethod;
          },
          createHmacOutputMethod = function (r, t) {
            return function (e, n) {
              return new HmacSha256(e, t, !0).update(n)[r]();
            };
          },
          createHmacMethod = function (r) {
            var t = createHmacOutputMethod('hex', r);
            (t.create = function (a) {
              return new HmacSha256(a, r);
            }),
              (t.update = function (a, o) {
                return t.create(a).update(o);
              });
            for (var e = 0; e < OUTPUT_TYPES.length; ++e) {
              var n = OUTPUT_TYPES[e];
              t[n] = createHmacOutputMethod(n, r);
            }
            return t;
          };
        function Sha256(r, t) {
          t
            ? ((blocks[0] =
                blocks[16] =
                blocks[1] =
                blocks[2] =
                blocks[3] =
                blocks[4] =
                blocks[5] =
                blocks[6] =
                blocks[7] =
                blocks[8] =
                blocks[9] =
                blocks[10] =
                blocks[11] =
                blocks[12] =
                blocks[13] =
                blocks[14] =
                blocks[15] =
                  0),
              (this.blocks = blocks))
            : (this.blocks = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]),
            r
              ? ((this.h0 = 3238371032),
                (this.h1 = 914150663),
                (this.h2 = 812702999),
                (this.h3 = 4144912697),
                (this.h4 = 4290775857),
                (this.h5 = 1750603025),
                (this.h6 = 1694076839),
                (this.h7 = 3204075428))
              : ((this.h0 = 1779033703),
                (this.h1 = 3144134277),
                (this.h2 = 1013904242),
                (this.h3 = 2773480762),
                (this.h4 = 1359893119),
                (this.h5 = 2600822924),
                (this.h6 = 528734635),
                (this.h7 = 1541459225)),
            (this.block = this.start = this.bytes = this.hBytes = 0),
            (this.finalized = this.hashed = !1),
            (this.first = !0),
            (this.is224 = r);
        }
        (Sha256.prototype.update = function (r) {
          if (!this.finalized) {
            var t,
              e = typeof r;
            if (e !== 'string') {
              if (e === 'object') {
                if (r === null) throw new Error(ERROR);
                if (ARRAY_BUFFER && r.constructor === ArrayBuffer) r = new Uint8Array(r);
                else if (!Array.isArray(r) && (!ARRAY_BUFFER || !ArrayBuffer.isView(r))) throw new Error(ERROR);
              } else throw new Error(ERROR);
              t = !0;
            }
            for (var n, a = 0, o, s = r.length, u = this.blocks; a < s; ) {
              if (
                (this.hashed &&
                  ((this.hashed = !1),
                  (u[0] = this.block),
                  (u[16] =
                    u[1] =
                    u[2] =
                    u[3] =
                    u[4] =
                    u[5] =
                    u[6] =
                    u[7] =
                    u[8] =
                    u[9] =
                    u[10] =
                    u[11] =
                    u[12] =
                    u[13] =
                    u[14] =
                    u[15] =
                      0)),
                t)
              )
                for (o = this.start; a < s && o < 64; ++a) u[o >> 2] |= r[a] << SHIFT[o++ & 3];
              else
                for (o = this.start; a < s && o < 64; ++a)
                  (n = r.charCodeAt(a)),
                    n < 128
                      ? (u[o >> 2] |= n << SHIFT[o++ & 3])
                      : n < 2048
                      ? ((u[o >> 2] |= (192 | (n >> 6)) << SHIFT[o++ & 3]),
                        (u[o >> 2] |= (128 | (n & 63)) << SHIFT[o++ & 3]))
                      : n < 55296 || n >= 57344
                      ? ((u[o >> 2] |= (224 | (n >> 12)) << SHIFT[o++ & 3]),
                        (u[o >> 2] |= (128 | ((n >> 6) & 63)) << SHIFT[o++ & 3]),
                        (u[o >> 2] |= (128 | (n & 63)) << SHIFT[o++ & 3]))
                      : ((n = 65536 + (((n & 1023) << 10) | (r.charCodeAt(++a) & 1023))),
                        (u[o >> 2] |= (240 | (n >> 18)) << SHIFT[o++ & 3]),
                        (u[o >> 2] |= (128 | ((n >> 12) & 63)) << SHIFT[o++ & 3]),
                        (u[o >> 2] |= (128 | ((n >> 6) & 63)) << SHIFT[o++ & 3]),
                        (u[o >> 2] |= (128 | (n & 63)) << SHIFT[o++ & 3]));
              (this.lastByteIndex = o),
                (this.bytes += o - this.start),
                o >= 64
                  ? ((this.block = u[16]), (this.start = o - 64), this.hash(), (this.hashed = !0))
                  : (this.start = o);
            }
            return (
              this.bytes > 4294967295 &&
                ((this.hBytes += (this.bytes / 4294967296) << 0), (this.bytes = this.bytes % 4294967296)),
              this
            );
          }
        }),
          (Sha256.prototype.finalize = function () {
            if (!this.finalized) {
              this.finalized = !0;
              var r = this.blocks,
                t = this.lastByteIndex;
              (r[16] = this.block),
                (r[t >> 2] |= EXTRA[t & 3]),
                (this.block = r[16]),
                t >= 56 &&
                  (this.hashed || this.hash(),
                  (r[0] = this.block),
                  (r[16] =
                    r[1] =
                    r[2] =
                    r[3] =
                    r[4] =
                    r[5] =
                    r[6] =
                    r[7] =
                    r[8] =
                    r[9] =
                    r[10] =
                    r[11] =
                    r[12] =
                    r[13] =
                    r[14] =
                    r[15] =
                      0)),
                (r[14] = (this.hBytes << 3) | (this.bytes >>> 29)),
                (r[15] = this.bytes << 3),
                this.hash();
            }
          }),
          (Sha256.prototype.hash = function () {
            var r = this.h0,
              t = this.h1,
              e = this.h2,
              n = this.h3,
              a = this.h4,
              o = this.h5,
              s = this.h6,
              u = this.h7,
              y = this.blocks,
              l,
              d,
              E,
              b,
              S,
              v,
              _,
              p,
              h,
              c,
              g;
            for (l = 16; l < 64; ++l)
              (S = y[l - 15]),
                (d = ((S >>> 7) | (S << 25)) ^ ((S >>> 18) | (S << 14)) ^ (S >>> 3)),
                (S = y[l - 2]),
                (E = ((S >>> 17) | (S << 15)) ^ ((S >>> 19) | (S << 13)) ^ (S >>> 10)),
                (y[l] = (y[l - 16] + d + y[l - 7] + E) << 0);
            for (g = t & e, l = 0; l < 64; l += 4)
              this.first
                ? (this.is224
                    ? ((p = 300032), (S = y[0] - 1413257819), (u = (S - 150054599) << 0), (n = (S + 24177077) << 0))
                    : ((p = 704751109),
                      (S = y[0] - 210244248),
                      (u = (S - 1521486534) << 0),
                      (n = (S + 143694565) << 0)),
                  (this.first = !1))
                : ((d = ((r >>> 2) | (r << 30)) ^ ((r >>> 13) | (r << 19)) ^ ((r >>> 22) | (r << 10))),
                  (E = ((a >>> 6) | (a << 26)) ^ ((a >>> 11) | (a << 21)) ^ ((a >>> 25) | (a << 7))),
                  (p = r & t),
                  (b = p ^ (r & e) ^ g),
                  (_ = (a & o) ^ (~a & s)),
                  (S = u + E + _ + K[l] + y[l]),
                  (v = d + b),
                  (u = (n + S) << 0),
                  (n = (S + v) << 0)),
                (d = ((n >>> 2) | (n << 30)) ^ ((n >>> 13) | (n << 19)) ^ ((n >>> 22) | (n << 10))),
                (E = ((u >>> 6) | (u << 26)) ^ ((u >>> 11) | (u << 21)) ^ ((u >>> 25) | (u << 7))),
                (h = n & r),
                (b = h ^ (n & t) ^ p),
                (_ = (u & a) ^ (~u & o)),
                (S = s + E + _ + K[l + 1] + y[l + 1]),
                (v = d + b),
                (s = (e + S) << 0),
                (e = (S + v) << 0),
                (d = ((e >>> 2) | (e << 30)) ^ ((e >>> 13) | (e << 19)) ^ ((e >>> 22) | (e << 10))),
                (E = ((s >>> 6) | (s << 26)) ^ ((s >>> 11) | (s << 21)) ^ ((s >>> 25) | (s << 7))),
                (c = e & n),
                (b = c ^ (e & r) ^ h),
                (_ = (s & u) ^ (~s & a)),
                (S = o + E + _ + K[l + 2] + y[l + 2]),
                (v = d + b),
                (o = (t + S) << 0),
                (t = (S + v) << 0),
                (d = ((t >>> 2) | (t << 30)) ^ ((t >>> 13) | (t << 19)) ^ ((t >>> 22) | (t << 10))),
                (E = ((o >>> 6) | (o << 26)) ^ ((o >>> 11) | (o << 21)) ^ ((o >>> 25) | (o << 7))),
                (g = t & e),
                (b = g ^ (t & n) ^ c),
                (_ = (o & s) ^ (~o & u)),
                (S = a + E + _ + K[l + 3] + y[l + 3]),
                (v = d + b),
                (a = (r + S) << 0),
                (r = (S + v) << 0);
            (this.h0 = (this.h0 + r) << 0),
              (this.h1 = (this.h1 + t) << 0),
              (this.h2 = (this.h2 + e) << 0),
              (this.h3 = (this.h3 + n) << 0),
              (this.h4 = (this.h4 + a) << 0),
              (this.h5 = (this.h5 + o) << 0),
              (this.h6 = (this.h6 + s) << 0),
              (this.h7 = (this.h7 + u) << 0);
          }),
          (Sha256.prototype.hex = function () {
            this.finalize();
            var r = this.h0,
              t = this.h1,
              e = this.h2,
              n = this.h3,
              a = this.h4,
              o = this.h5,
              s = this.h6,
              u = this.h7,
              y =
                HEX_CHARS[(r >> 28) & 15] +
                HEX_CHARS[(r >> 24) & 15] +
                HEX_CHARS[(r >> 20) & 15] +
                HEX_CHARS[(r >> 16) & 15] +
                HEX_CHARS[(r >> 12) & 15] +
                HEX_CHARS[(r >> 8) & 15] +
                HEX_CHARS[(r >> 4) & 15] +
                HEX_CHARS[r & 15] +
                HEX_CHARS[(t >> 28) & 15] +
                HEX_CHARS[(t >> 24) & 15] +
                HEX_CHARS[(t >> 20) & 15] +
                HEX_CHARS[(t >> 16) & 15] +
                HEX_CHARS[(t >> 12) & 15] +
                HEX_CHARS[(t >> 8) & 15] +
                HEX_CHARS[(t >> 4) & 15] +
                HEX_CHARS[t & 15] +
                HEX_CHARS[(e >> 28) & 15] +
                HEX_CHARS[(e >> 24) & 15] +
                HEX_CHARS[(e >> 20) & 15] +
                HEX_CHARS[(e >> 16) & 15] +
                HEX_CHARS[(e >> 12) & 15] +
                HEX_CHARS[(e >> 8) & 15] +
                HEX_CHARS[(e >> 4) & 15] +
                HEX_CHARS[e & 15] +
                HEX_CHARS[(n >> 28) & 15] +
                HEX_CHARS[(n >> 24) & 15] +
                HEX_CHARS[(n >> 20) & 15] +
                HEX_CHARS[(n >> 16) & 15] +
                HEX_CHARS[(n >> 12) & 15] +
                HEX_CHARS[(n >> 8) & 15] +
                HEX_CHARS[(n >> 4) & 15] +
                HEX_CHARS[n & 15] +
                HEX_CHARS[(a >> 28) & 15] +
                HEX_CHARS[(a >> 24) & 15] +
                HEX_CHARS[(a >> 20) & 15] +
                HEX_CHARS[(a >> 16) & 15] +
                HEX_CHARS[(a >> 12) & 15] +
                HEX_CHARS[(a >> 8) & 15] +
                HEX_CHARS[(a >> 4) & 15] +
                HEX_CHARS[a & 15] +
                HEX_CHARS[(o >> 28) & 15] +
                HEX_CHARS[(o >> 24) & 15] +
                HEX_CHARS[(o >> 20) & 15] +
                HEX_CHARS[(o >> 16) & 15] +
                HEX_CHARS[(o >> 12) & 15] +
                HEX_CHARS[(o >> 8) & 15] +
                HEX_CHARS[(o >> 4) & 15] +
                HEX_CHARS[o & 15] +
                HEX_CHARS[(s >> 28) & 15] +
                HEX_CHARS[(s >> 24) & 15] +
                HEX_CHARS[(s >> 20) & 15] +
                HEX_CHARS[(s >> 16) & 15] +
                HEX_CHARS[(s >> 12) & 15] +
                HEX_CHARS[(s >> 8) & 15] +
                HEX_CHARS[(s >> 4) & 15] +
                HEX_CHARS[s & 15];
            return (
              this.is224 ||
                (y +=
                  HEX_CHARS[(u >> 28) & 15] +
                  HEX_CHARS[(u >> 24) & 15] +
                  HEX_CHARS[(u >> 20) & 15] +
                  HEX_CHARS[(u >> 16) & 15] +
                  HEX_CHARS[(u >> 12) & 15] +
                  HEX_CHARS[(u >> 8) & 15] +
                  HEX_CHARS[(u >> 4) & 15] +
                  HEX_CHARS[u & 15]),
              y
            );
          }),
          (Sha256.prototype.toString = Sha256.prototype.hex),
          (Sha256.prototype.digest = function () {
            this.finalize();
            var r = this.h0,
              t = this.h1,
              e = this.h2,
              n = this.h3,
              a = this.h4,
              o = this.h5,
              s = this.h6,
              u = this.h7,
              y = [
                (r >> 24) & 255,
                (r >> 16) & 255,
                (r >> 8) & 255,
                r & 255,
                (t >> 24) & 255,
                (t >> 16) & 255,
                (t >> 8) & 255,
                t & 255,
                (e >> 24) & 255,
                (e >> 16) & 255,
                (e >> 8) & 255,
                e & 255,
                (n >> 24) & 255,
                (n >> 16) & 255,
                (n >> 8) & 255,
                n & 255,
                (a >> 24) & 255,
                (a >> 16) & 255,
                (a >> 8) & 255,
                a & 255,
                (o >> 24) & 255,
                (o >> 16) & 255,
                (o >> 8) & 255,
                o & 255,
                (s >> 24) & 255,
                (s >> 16) & 255,
                (s >> 8) & 255,
                s & 255,
              ];
            return this.is224 || y.push((u >> 24) & 255, (u >> 16) & 255, (u >> 8) & 255, u & 255), y;
          }),
          (Sha256.prototype.array = Sha256.prototype.digest),
          (Sha256.prototype.arrayBuffer = function () {
            this.finalize();
            var r = new ArrayBuffer(this.is224 ? 28 : 32),
              t = new DataView(r);
            return (
              t.setUint32(0, this.h0),
              t.setUint32(4, this.h1),
              t.setUint32(8, this.h2),
              t.setUint32(12, this.h3),
              t.setUint32(16, this.h4),
              t.setUint32(20, this.h5),
              t.setUint32(24, this.h6),
              this.is224 || t.setUint32(28, this.h7),
              r
            );
          });
        function HmacSha256(r, t, e) {
          var n,
            a = typeof r;
          if (a === 'string') {
            var o = [],
              s = r.length,
              u = 0,
              y;
            for (n = 0; n < s; ++n)
              (y = r.charCodeAt(n)),
                y < 128
                  ? (o[u++] = y)
                  : y < 2048
                  ? ((o[u++] = 192 | (y >> 6)), (o[u++] = 128 | (y & 63)))
                  : y < 55296 || y >= 57344
                  ? ((o[u++] = 224 | (y >> 12)), (o[u++] = 128 | ((y >> 6) & 63)), (o[u++] = 128 | (y & 63)))
                  : ((y = 65536 + (((y & 1023) << 10) | (r.charCodeAt(++n) & 1023))),
                    (o[u++] = 240 | (y >> 18)),
                    (o[u++] = 128 | ((y >> 12) & 63)),
                    (o[u++] = 128 | ((y >> 6) & 63)),
                    (o[u++] = 128 | (y & 63)));
            r = o;
          } else if (a === 'object') {
            if (r === null) throw new Error(ERROR);
            if (ARRAY_BUFFER && r.constructor === ArrayBuffer) r = new Uint8Array(r);
            else if (!Array.isArray(r) && (!ARRAY_BUFFER || !ArrayBuffer.isView(r))) throw new Error(ERROR);
          } else throw new Error(ERROR);
          r.length > 64 && (r = new Sha256(t, !0).update(r).array());
          var l = [],
            d = [];
          for (n = 0; n < 64; ++n) {
            var E = r[n] || 0;
            (l[n] = 92 ^ E), (d[n] = 54 ^ E);
          }
          Sha256.call(this, t, e), this.update(d), (this.oKeyPad = l), (this.inner = !0), (this.sharedMemory = e);
        }
        (HmacSha256.prototype = new Sha256()),
          (HmacSha256.prototype.finalize = function () {
            if ((Sha256.prototype.finalize.call(this), this.inner)) {
              this.inner = !1;
              var r = this.array();
              Sha256.call(this, this.is224, this.sharedMemory),
                this.update(this.oKeyPad),
                this.update(r),
                Sha256.prototype.finalize.call(this);
            }
          });
        var exports = createMethod();
        (exports.sha256 = exports),
          (exports.sha224 = createMethod(!0)),
          (exports.sha256.hmac = createHmacMethod()),
          (exports.sha224.hmac = createHmacMethod(!0)),
          COMMON_JS ? (module.exports = exports) : ((root.sha256 = exports.sha256), (root.sha224 = exports.sha224));
      })();
    })(sha256);
    var Base64 = {};
    (function (r) {
      Object.defineProperty(r, '__esModule', { value: !0 }),
        (r.Base64 = void 0),
        (r.Base64 = {
          _keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',
          _encodeBinary: function (t) {
            for (var e = '', n, a, o, s, u, y, l, d = 0; d < t.length; )
              (n = t.charCodeAt(d++)),
                (a = t.charCodeAt(d++)),
                (o = t.charCodeAt(d++)),
                (s = n >> 2),
                (u = ((n & 3) << 4) | (a >> 4)),
                (y = ((a & 15) << 2) | (o >> 6)),
                (l = o & 63),
                isNaN(a) ? (y = l = 64) : isNaN(o) && (l = 64),
                (e =
                  e +
                  this._keyStr.charAt(s) +
                  this._keyStr.charAt(u) +
                  this._keyStr.charAt(y) +
                  this._keyStr.charAt(l));
            return e;
          },
          encodeArrayBuffer: function (t) {
            for (var e = '', n = new Uint8Array(t), a = n.byteLength, o = 0; o < a; o++) e += String.fromCharCode(n[o]);
            return r.Base64._encodeBinary(e);
          },
        });
    })(Base64),
      Object.defineProperty(Hashing, '__esModule', { value: !0 }),
      (Hashing.getUserCacheKey = Hashing.getHashValue = Hashing.SimpleHash = void 0);
    var js_sha256_1 = sha256Exports,
      Base64_1 = Base64;
    function SimpleHash(r) {
      for (var t = 0, e = 0; e < r.length; e++) {
        var n = r.charCodeAt(e);
        (t = (t << 5) - t + n), (t = t & t);
      }
      return String(t);
    }
    Hashing.SimpleHash = SimpleHash;
    function getHashValue(r) {
      var t = js_sha256_1.sha256.create().update(r).arrayBuffer();
      return Base64_1.Base64.encodeArrayBuffer(t);
    }
    Hashing.getHashValue = getHashValue;
    function getUserCacheKey(r) {
      var t,
        e = 'userID:' + String((t = r == null ? void 0 : r.userID) !== null && t !== void 0 ? t : ''),
        n = r == null ? void 0 : r.customIDs;
      if (n != null)
        for (var a = 0, o = Object.entries(n); a < o.length; a++) {
          var s = o[a],
            u = s[0],
            y = s[1];
          e += ';' + u + ':' + y;
        }
      return SimpleHash(e);
    }
    (Hashing.getUserCacheKey = getUserCacheKey),
      (function (r) {
        var t =
            (commonjsGlobal && commonjsGlobal.__awaiter) ||
            function (v, _, p, h) {
              function c(g) {
                return g instanceof p
                  ? g
                  : new p(function (m) {
                      m(g);
                    });
              }
              return new (p || (p = Promise))(function (g, m) {
                function A(L) {
                  try {
                    w(h.next(L));
                  } catch (x) {
                    m(x);
                  }
                }
                function I(L) {
                  try {
                    w(h.throw(L));
                  } catch (x) {
                    m(x);
                  }
                }
                function w(L) {
                  L.done ? g(L.value) : c(L.value).then(A, I);
                }
                w((h = h.apply(v, _ || [])).next());
              });
            },
          e =
            (commonjsGlobal && commonjsGlobal.__generator) ||
            function (v, _) {
              var p = {
                  label: 0,
                  sent: function () {
                    if (g[0] & 1) throw g[1];
                    return g[1];
                  },
                  trys: [],
                  ops: [],
                },
                h,
                c,
                g,
                m;
              return (
                (m = { next: A(0), throw: A(1), return: A(2) }),
                typeof Symbol == 'function' &&
                  (m[Symbol.iterator] = function () {
                    return this;
                  }),
                m
              );
              function A(w) {
                return function (L) {
                  return I([w, L]);
                };
              }
              function I(w) {
                if (h) throw new TypeError('Generator is already executing.');
                for (; p; )
                  try {
                    if (
                      ((h = 1),
                      c &&
                        (g = w[0] & 2 ? c.return : w[0] ? c.throw || ((g = c.return) && g.call(c), 0) : c.next) &&
                        !(g = g.call(c, w[1])).done)
                    )
                      return g;
                    switch (((c = 0), g && (w = [w[0] & 2, g.value]), w[0])) {
                      case 0:
                      case 1:
                        g = w;
                        break;
                      case 4:
                        return p.label++, { value: w[1], done: !1 };
                      case 5:
                        p.label++, (c = w[1]), (w = [0]);
                        continue;
                      case 7:
                        (w = p.ops.pop()), p.trys.pop();
                        continue;
                      default:
                        if (((g = p.trys), !(g = g.length > 0 && g[g.length - 1]) && (w[0] === 6 || w[0] === 2))) {
                          p = 0;
                          continue;
                        }
                        if (w[0] === 3 && (!g || (w[1] > g[0] && w[1] < g[3]))) {
                          p.label = w[1];
                          break;
                        }
                        if (w[0] === 6 && p.label < g[1]) {
                          (p.label = g[1]), (g = w);
                          break;
                        }
                        if (g && p.label < g[2]) {
                          (p.label = g[2]), p.ops.push(w);
                          break;
                        }
                        g[2] && p.ops.pop(), p.trys.pop();
                        continue;
                    }
                    w = _.call(v, p);
                  } catch (L) {
                    (w = [6, L]), (c = 0);
                  } finally {
                    h = g = 0;
                  }
                if (w[0] & 5) throw w[1];
                return { value: w[0] ? w[1] : void 0, done: !0 };
              }
            },
          n =
            (commonjsGlobal && commonjsGlobal.__importDefault) ||
            function (v) {
              return v && v.__esModule ? v : { default: v };
            };
        Object.defineProperty(r, '__esModule', { value: !0 }), (r.EvaluationReason = void 0);
        var a = n(DynamicConfig$1),
          o = n(Layer$1),
          s = n(BootstrapValidator$1),
          u = Constants,
          y = Hashing,
          l = n(StatsigAsyncStorage$1),
          d = n(StatsigLocalStorage$1),
          E;
        (function (v) {
          (v.Network = 'Network'),
            (v.Bootstrap = 'Bootstrap'),
            (v.InvalidBootstrap = 'InvalidBootstrap'),
            (v.Cache = 'Cache'),
            (v.Prefetch = 'Prefetch'),
            (v.Sticky = 'Sticky'),
            (v.LocalOverride = 'LocalOverride'),
            (v.Unrecognized = 'Unrecognized'),
            (v.Uninitialized = 'Uninitialized'),
            (v.Error = 'Error');
        })((E = r.EvaluationReason || (r.EvaluationReason = {})));
        var b = 10,
          S = (function () {
            function v(_) {
              (this.overrides = { gates: {}, configs: {}, layers: {} }),
                (this.sdkInternal = _),
                (this.userCacheKey = this.sdkInternal.getCurrentUserCacheKey()),
                (this.values = {}),
                (this.userValues = {
                  feature_gates: {},
                  dynamic_configs: {},
                  sticky_experiments: {},
                  layer_configs: {},
                  has_updates: !1,
                  time: 0,
                  evaluation_time: 0,
                }),
                (this.stickyDeviceExperiments = {}),
                (this.loaded = !1),
                (this.reason = E.Uninitialized),
                this.loadFromLocalStorage();
            }
            return (
              (v.prototype.updateUser = function (_) {
                return (this.userCacheKey = this.sdkInternal.getCurrentUserCacheKey()), this.setUserValueFromCache(_);
              }),
              (v.prototype.loadFromAsyncStorage = function () {
                return t(this, void 0, void 0, function () {
                  var _, p;
                  return e(this, function (h) {
                    switch (h.label) {
                      case 0:
                        return (_ = this.parseCachedValues), [4, l.default.getItemAsync(u.INTERNAL_STORE_KEY)];
                      case 1:
                        return (p = [h.sent()]), [4, l.default.getItemAsync(u.STICKY_DEVICE_EXPERIMENTS_KEY)];
                      case 2:
                        return (
                          _.apply(this, p.concat([h.sent()])),
                          (this.userCacheKey = this.sdkInternal.getCurrentUserCacheKey()),
                          (this.loaded = !0),
                          [2]
                        );
                    }
                  });
                });
              }),
              (v.prototype.bootstrap = function (_) {
                var p,
                  h,
                  c,
                  g = this.sdkInternal.getCurrentUserCacheKey(),
                  m = this.sdkInternal.getCurrentUser(),
                  A = s.default.isValid(m, _) ? E.Bootstrap : E.InvalidBootstrap;
                this.loaded = !0;
                try {
                  (this.userValues.feature_gates = (p = _.feature_gates) !== null && p !== void 0 ? p : {}),
                    (this.userValues.dynamic_configs = (h = _.dynamic_configs) !== null && h !== void 0 ? h : {}),
                    (this.userValues.layer_configs = (c = _.layer_configs) !== null && c !== void 0 ? c : {}),
                    (this.userValues.evaluation_time = Date.now()),
                    (this.userValues.time = Date.now()),
                    (this.values[g] = this.userValues),
                    (this.reason = A),
                    this.loadOverrides();
                } catch {
                  return;
                }
              }),
              (v.prototype.loadFromLocalStorage = function () {
                l.default.asyncStorage ||
                  (this.parseCachedValues(
                    d.default.getItem(u.INTERNAL_STORE_KEY),
                    d.default.getItem(u.STICKY_DEVICE_EXPERIMENTS_KEY)
                  ),
                  (this.loaded = !0));
              }),
              (v.prototype.isLoaded = function () {
                return this.loaded;
              }),
              (v.prototype.getLastUpdateTime = function (_) {
                var p = (0, y.getHashValue)(JSON.stringify(_));
                return this.userValues.user_hash == p ? this.userValues.time : null;
              }),
              (v.prototype.parseCachedValues = function (_, p) {
                try {
                  (this.values = _ ? JSON.parse(_) : this.values), this.setUserValueFromCache();
                } catch {
                  this.removeFromStorage(u.INTERNAL_STORE_KEY);
                }
                try {
                  var h = p ? JSON.parse(p) : null;
                  h && (this.stickyDeviceExperiments = h);
                } catch {
                  this.removeFromStorage(u.STICKY_DEVICE_EXPERIMENTS_KEY);
                }
                this.loadOverrides();
              }),
              (v.prototype.setUserValueFromCache = function (_) {
                _ === void 0 && (_ = !1);
                var p = this.values[this.userCacheKey];
                return p == null
                  ? (this.resetUserValues(), (this.reason = E.Uninitialized), !1)
                  : ((this.userValues = p), (this.reason = _ ? E.Prefetch : E.Cache), !0);
              }),
              (v.prototype.removeFromStorage = function (_) {
                l.default.removeItemAsync(_), d.default.removeItem(_);
              }),
              (v.prototype.loadOverrides = function () {
                var _ = d.default.getItem(u.OVERRIDES_STORE_KEY);
                if (_ != null)
                  try {
                    this.overrides = JSON.parse(_);
                  } catch {
                    d.default.removeItem(u.OVERRIDES_STORE_KEY);
                  }
              }),
              (v.prototype.save = function (_, p) {
                return t(this, void 0, void 0, function () {
                  var h, c, g, m, A, I, w, L, x, T;
                  return e(this, function (C) {
                    switch (C.label) {
                      case 0:
                        if (((h = (0, y.getUserCacheKey)(_)), (c = p), c.prefetched_user_values))
                          for (g = Object.keys(c.prefetched_user_values), m = 0, A = g; m < A.length; m++)
                            (I = A[m]),
                              (w = c.prefetched_user_values[I]),
                              (this.values[I] = this.convertAPIDataToCacheValues(w, I));
                        return (
                          h &&
                            ((L = this.convertAPIDataToCacheValues(c, h)),
                            c.has_updates &&
                              c.time &&
                              ((x = (0, y.getHashValue)(JSON.stringify(_))), (L.user_hash = x)),
                            (this.values[h] = L),
                            h == this.userCacheKey && ((this.userValues = L), (this.reason = E.Network))),
                          (T = Object.entries(this.values)
                            .sort(function (O, M) {
                              var D = O[1],
                                k = M[1];
                              return D == null
                                ? 1
                                : k == null
                                ? -1
                                : (k == null ? void 0 : k.time) - (D == null ? void 0 : D.time);
                            })
                            .slice(0, b)),
                          (this.values = Object.fromEntries(T)),
                          l.default.asyncStorage
                            ? [4, l.default.setItemAsync(u.INTERNAL_STORE_KEY, JSON.stringify(this.values))]
                            : [3, 2]
                        );
                      case 1:
                        return C.sent(), [3, 3];
                      case 2:
                        d.default.setItem(u.INTERNAL_STORE_KEY, JSON.stringify(this.values)), (C.label = 3);
                      case 3:
                        return [2];
                    }
                  });
                });
              }),
              (v.prototype.checkGate = function (_, p) {
                var h;
                p === void 0 && (p = !1);
                var c = (0, y.getHashValue)(_),
                  g = { name: _, value: !1, rule_id: '', secondary_exposures: [] },
                  m;
                if (!p && this.overrides.gates[_] != null)
                  (g = { name: _, value: this.overrides.gates[_], rule_id: 'override', secondary_exposures: [] }),
                    (m = this.getEvaluationDetails(!1, E.LocalOverride));
                else {
                  var A = (h = this.userValues) === null || h === void 0 ? void 0 : h.feature_gates[c];
                  A && (g = A), (m = this.getEvaluationDetails(A != null));
                }
                return { evaluationDetails: m, gate: g };
              }),
              (v.prototype.getConfig = function (_, p) {
                var h, c;
                p === void 0 && (p = !1);
                var g = (0, y.getHashValue)(_),
                  m,
                  A;
                if (!p && this.overrides.configs[_] != null)
                  (A = this.getEvaluationDetails(!1, E.LocalOverride)),
                    (m = new a.default(
                      _,
                      this.overrides.configs[_],
                      'override',
                      A,
                      [],
                      '',
                      this.makeOnConfigDefaultValueFallback(this.sdkInternal.getCurrentUser())
                    ));
                else if (((h = this.userValues) === null || h === void 0 ? void 0 : h.dynamic_configs[g]) != null) {
                  var I = (c = this.userValues) === null || c === void 0 ? void 0 : c.dynamic_configs[g];
                  (A = this.getEvaluationDetails(!0)), (m = this.createDynamicConfig(_, I, A));
                } else (A = this.getEvaluationDetails(!1)), (m = new a.default(_, {}, '', A));
                return m;
              }),
              (v.prototype.getExperiment = function (_, p, h) {
                p === void 0 && (p = !1), h === void 0 && (h = !1);
                var c, g;
                if (!h && this.overrides.configs[_] != null)
                  (g = this.getEvaluationDetails(!1, E.LocalOverride)),
                    (c = new a.default(_, this.overrides.configs[_], 'override', g));
                else {
                  var m = this.getLatestValue(_, 'dynamic_configs');
                  g = this.getEvaluationDetails(m != null);
                  var A = this.getPossiblyStickyValue(_, m, p, !1, g);
                  c = this.createDynamicConfig(_, A, g);
                }
                return c;
              }),
              (v.prototype.getLayer = function (_, p, h) {
                var c, g, m, A;
                if (this.overrides.layers[p] != null) {
                  var I = this.getEvaluationDetails(!1, E.LocalOverride);
                  return o.default._create(
                    p,
                    (c = this.overrides.layers[p]) !== null && c !== void 0 ? c : {},
                    'override',
                    I,
                    _
                  );
                }
                var w = this.getLatestValue(p, 'layer_configs'),
                  L = this.getEvaluationDetails(w != null),
                  x = this.getPossiblyStickyValue(p, w, h, !0, L);
                return o.default._create(
                  p,
                  (g = x == null ? void 0 : x.value) !== null && g !== void 0 ? g : {},
                  (m = x == null ? void 0 : x.rule_id) !== null && m !== void 0 ? m : '',
                  L,
                  _,
                  x == null ? void 0 : x.secondary_exposures,
                  x == null ? void 0 : x.undelegated_secondary_exposures,
                  (A = x == null ? void 0 : x.allocated_experiment_name) !== null && A !== void 0 ? A : '',
                  x == null ? void 0 : x.explicit_parameters
                );
              }),
              (v.prototype.overrideConfig = function (_, p) {
                try {
                  JSON.stringify(p);
                } catch (h) {
                  console.warn('Failed to stringify given config override.  Dropping', h);
                  return;
                }
                (this.overrides.configs[_] = p), this.saveOverrides();
              }),
              (v.prototype.overrideLayer = function (_, p) {
                try {
                  JSON.stringify(p);
                } catch (h) {
                  console.warn('Failed to stringify given layer override.  Dropping', h);
                  return;
                }
                (this.overrides.layers[_] = p), this.saveOverrides();
              }),
              (v.prototype.overrideGate = function (_, p) {
                (this.overrides.gates[_] = p), this.saveOverrides();
              }),
              (v.prototype.removeGateOverride = function (_) {
                _ == null ? (this.overrides.gates = {}) : delete this.overrides.gates[_], this.saveOverrides();
              }),
              (v.prototype.removeConfigOverride = function (_) {
                _ == null ? (this.overrides.configs = {}) : delete this.overrides.configs[_], this.saveOverrides();
              }),
              (v.prototype.removeLayerOverride = function (_) {
                _ == null ? (this.overrides.layers = {}) : delete this.overrides.layers[_], this.saveOverrides();
              }),
              (v.prototype.getAllOverrides = function () {
                return this.overrides;
              }),
              (v.prototype.saveOverrides = function () {
                try {
                  d.default.setItem(u.OVERRIDES_STORE_KEY, JSON.stringify(this.overrides));
                } catch {
                  console.warn('Failed to persist gate/config overrides');
                }
              }),
              (v.prototype.getLatestValue = function (_, p) {
                var h,
                  c,
                  g,
                  m,
                  A,
                  I = (0, y.getHashValue)(_);
                return (g =
                  (c = (h = this.userValues) === null || h === void 0 ? void 0 : h[p]) === null || c === void 0
                    ? void 0
                    : c[I]) !== null && g !== void 0
                  ? g
                  : (A = (m = this.userValues) === null || m === void 0 ? void 0 : m[p]) === null || A === void 0
                  ? void 0
                  : A[_];
              }),
              (v.prototype.getPossiblyStickyValue = function (_, p, h, c, g) {
                var m;
                if (!h) return this.removeStickyValue(_), p;
                var A = this.getStickyValue(_);
                if (!A) return this.attemptToSaveStickyValue(_, p), p;
                var I = null;
                return (
                  c
                    ? (I = this.getLatestValue(
                        (m = A == null ? void 0 : A.allocated_experiment_name) !== null && m !== void 0 ? m : '',
                        'dynamic_configs'
                      ))
                    : (I = p),
                  (I == null ? void 0 : I.is_experiment_active) == !0
                    ? ((g.reason = E.Sticky), A)
                    : ((p == null ? void 0 : p.is_experiment_active) == !0
                        ? this.attemptToSaveStickyValue(_, p)
                        : this.removeStickyValue(_),
                      p)
                );
              }),
              (v.prototype.createDynamicConfig = function (_, p, h) {
                var c, g, m;
                return new a.default(
                  _,
                  (c = p == null ? void 0 : p.value) !== null && c !== void 0 ? c : {},
                  (g = p == null ? void 0 : p.rule_id) !== null && g !== void 0 ? g : '',
                  h,
                  p == null ? void 0 : p.secondary_exposures,
                  (m = p == null ? void 0 : p.allocated_experiment_name) !== null && m !== void 0 ? m : '',
                  this.makeOnConfigDefaultValueFallback(this.sdkInternal.getCurrentUser())
                );
              }),
              (v.prototype.getStickyValue = function (_) {
                var p,
                  h,
                  c = (0, y.getHashValue)(_);
                return (h = (p = this.userValues) === null || p === void 0 ? void 0 : p.sticky_experiments[c]) !==
                  null && h !== void 0
                  ? h
                  : this.stickyDeviceExperiments[c];
              }),
              (v.prototype.attemptToSaveStickyValue = function (_, p) {
                var h;
                if (!(!p || !p.is_user_in_experiment || !p.is_experiment_active)) {
                  var c = (0, y.getHashValue)(_);
                  p.is_device_based === !0
                    ? (this.stickyDeviceExperiments[c] = p)
                    : !((h = this.userValues) === null || h === void 0) &&
                      h.sticky_experiments &&
                      (this.userValues.sticky_experiments[c] = p),
                    this.saveStickyValuesToStorage();
                }
              }),
              (v.prototype.removeStickyValue = function (_) {
                var p, h, c, g;
                if (
                  !(
                    Object.keys(
                      (h = (p = this.userValues) === null || p === void 0 ? void 0 : p.sticky_experiments) !== null &&
                        h !== void 0
                        ? h
                        : {}
                    ).length === 0 &&
                    Object.keys((c = this.stickyDeviceExperiments) !== null && c !== void 0 ? c : {}).length === 0
                  )
                ) {
                  var m = (0, y.getHashValue)(_);
                  (g = this.userValues) === null || g === void 0 || delete g.sticky_experiments[m],
                    delete this.stickyDeviceExperiments[m],
                    this.saveStickyValuesToStorage();
                }
              }),
              (v.prototype.saveStickyValuesToStorage = function () {
                (this.values[this.userCacheKey] = this.userValues),
                  this.setItemToStorage(u.INTERNAL_STORE_KEY, JSON.stringify(this.values)),
                  this.setItemToStorage(u.STICKY_DEVICE_EXPERIMENTS_KEY, JSON.stringify(this.stickyDeviceExperiments));
              }),
              (v.prototype.getGlobalEvaluationDetails = function () {
                var _, p;
                return {
                  reason: (_ = this.reason) !== null && _ !== void 0 ? _ : E.Uninitialized,
                  time: (p = this.userValues.evaluation_time) !== null && p !== void 0 ? p : 0,
                };
              }),
              (v.prototype.getEvaluationDetails = function (_, p) {
                var h;
                return _
                  ? {
                      reason: this.reason,
                      time: (h = this.userValues.evaluation_time) !== null && h !== void 0 ? h : Date.now(),
                    }
                  : {
                      reason: p ?? (this.reason == E.Uninitialized ? E.Uninitialized : E.Unrecognized),
                      time: Date.now(),
                    };
              }),
              (v.prototype.resetUserValues = function () {
                this.userValues = {
                  feature_gates: {},
                  dynamic_configs: {},
                  sticky_experiments: {},
                  layer_configs: {},
                  time: 0,
                  evaluation_time: 0,
                };
              }),
              (v.prototype.convertAPIDataToCacheValues = function (_, p) {
                var h, c;
                return {
                  feature_gates: _.feature_gates,
                  layer_configs: _.layer_configs,
                  dynamic_configs: _.dynamic_configs,
                  sticky_experiments:
                    (c = (h = this.values[p]) === null || h === void 0 ? void 0 : h.sticky_experiments) !== null &&
                    c !== void 0
                      ? c
                      : {},
                  time: _.time == null || isNaN(_.time) ? 0 : _.time,
                  evaluation_time: Date.now(),
                };
              }),
              (v.prototype.setItemToStorage = function (_, p) {
                l.default.asyncStorage ? l.default.setItemAsync(_, p) : d.default.setItem(_, p);
              }),
              (v.prototype.makeOnConfigDefaultValueFallback = function (_) {
                var p = this;
                return function (h, c, g, m) {
                  p.isLoaded() &&
                    p.sdkInternal.getLogger().logConfigDefaultValueFallback(
                      _,
                      'Parameter ' +
                        c +
                        ' is a value of type ' +
                        m +
                        `.
            Returning requested defaultValue type ` +
                        g,
                      { name: h.getName(), ruleID: h.getRuleID(), parameter: c, defaultValueType: g, valueType: m }
                    );
                };
              }),
              v
            );
          })();
        r.default = S;
      })(StatsigStore);
    var ConsoleLogger$1 = {};
    Object.defineProperty(ConsoleLogger$1, '__esModule', { value: !0 });
    var StatsigSDKOptions_1$1 = StatsigSDKOptions,
      ConsoleLogger = (function () {
        function r(t) {
          this.logLevel = t;
        }
        return (
          (r.prototype.info = function (t) {
            this.logLevel !== StatsigSDKOptions_1$1.LogLevel.NONE && console.log(t);
          }),
          (r.prototype.error = function (t) {
            this.logLevel === StatsigSDKOptions_1$1.LogLevel.DEBUG && console.error(t);
          }),
          r
        );
      })();
    ConsoleLogger$1.default = ConsoleLogger;
    var __assign =
        (commonjsGlobal && commonjsGlobal.__assign) ||
        function () {
          return (
            (__assign =
              Object.assign ||
              function (r) {
                for (var t, e = 1, n = arguments.length; e < n; e++) {
                  t = arguments[e];
                  for (var a in t) Object.prototype.hasOwnProperty.call(t, a) && (r[a] = t[a]);
                }
                return r;
              }),
            __assign.apply(this, arguments)
          );
        },
      __createBinding =
        (commonjsGlobal && commonjsGlobal.__createBinding) ||
        (Object.create
          ? function (r, t, e, n) {
              n === void 0 && (n = e),
                Object.defineProperty(r, n, {
                  enumerable: !0,
                  get: function () {
                    return t[e];
                  },
                });
            }
          : function (r, t, e, n) {
              n === void 0 && (n = e), (r[n] = t[e]);
            }),
      __setModuleDefault =
        (commonjsGlobal && commonjsGlobal.__setModuleDefault) ||
        (Object.create
          ? function (r, t) {
              Object.defineProperty(r, 'default', { enumerable: !0, value: t });
            }
          : function (r, t) {
              r.default = t;
            }),
      __importStar =
        (commonjsGlobal && commonjsGlobal.__importStar) ||
        function (r) {
          if (r && r.__esModule) return r;
          var t = {};
          if (r != null)
            for (var e in r) e !== 'default' && Object.prototype.hasOwnProperty.call(r, e) && __createBinding(t, r, e);
          return __setModuleDefault(t, r), t;
        },
      __awaiter =
        (commonjsGlobal && commonjsGlobal.__awaiter) ||
        function (r, t, e, n) {
          function a(o) {
            return o instanceof e
              ? o
              : new e(function (s) {
                  s(o);
                });
          }
          return new (e || (e = Promise))(function (o, s) {
            function u(d) {
              try {
                l(n.next(d));
              } catch (E) {
                s(E);
              }
            }
            function y(d) {
              try {
                l(n.throw(d));
              } catch (E) {
                s(E);
              }
            }
            function l(d) {
              d.done ? o(d.value) : a(d.value).then(u, y);
            }
            l((n = n.apply(r, t || [])).next());
          });
        },
      __generator =
        (commonjsGlobal && commonjsGlobal.__generator) ||
        function (r, t) {
          var e = {
              label: 0,
              sent: function () {
                if (o[0] & 1) throw o[1];
                return o[1];
              },
              trys: [],
              ops: [],
            },
            n,
            a,
            o,
            s;
          return (
            (s = { next: u(0), throw: u(1), return: u(2) }),
            typeof Symbol == 'function' &&
              (s[Symbol.iterator] = function () {
                return this;
              }),
            s
          );
          function u(l) {
            return function (d) {
              return y([l, d]);
            };
          }
          function y(l) {
            if (n) throw new TypeError('Generator is already executing.');
            for (; e; )
              try {
                if (
                  ((n = 1),
                  a &&
                    (o = l[0] & 2 ? a.return : l[0] ? a.throw || ((o = a.return) && o.call(a), 0) : a.next) &&
                    !(o = o.call(a, l[1])).done)
                )
                  return o;
                switch (((a = 0), o && (l = [l[0] & 2, o.value]), l[0])) {
                  case 0:
                  case 1:
                    o = l;
                    break;
                  case 4:
                    return e.label++, { value: l[1], done: !1 };
                  case 5:
                    e.label++, (a = l[1]), (l = [0]);
                    continue;
                  case 7:
                    (l = e.ops.pop()), e.trys.pop();
                    continue;
                  default:
                    if (((o = e.trys), !(o = o.length > 0 && o[o.length - 1]) && (l[0] === 6 || l[0] === 2))) {
                      e = 0;
                      continue;
                    }
                    if (l[0] === 3 && (!o || (l[1] > o[0] && l[1] < o[3]))) {
                      e.label = l[1];
                      break;
                    }
                    if (l[0] === 6 && e.label < o[1]) {
                      (e.label = o[1]), (o = l);
                      break;
                    }
                    if (o && e.label < o[2]) {
                      (e.label = o[2]), e.ops.push(l);
                      break;
                    }
                    o[2] && e.ops.pop(), e.trys.pop();
                    continue;
                }
                l = t.call(r, e);
              } catch (d) {
                (l = [6, d]), (a = 0);
              } finally {
                n = o = 0;
              }
            if (l[0] & 5) throw l[1];
            return { value: l[0] ? l[1] : void 0, done: !0 };
          }
        },
      __importDefault =
        (commonjsGlobal && commonjsGlobal.__importDefault) ||
        function (r) {
          return r && r.__esModule ? r : { default: r };
        };
    Object.defineProperty(StatsigClient$1, '__esModule', { value: !0 });
    var DynamicConfig_1 = __importDefault(DynamicConfig$1),
      ErrorBoundary_1 = __importDefault(ErrorBoundary),
      Errors_1 = Errors,
      Layer_1 = __importDefault(Layer$1),
      LogEvent_1 = __importDefault(LogEvent$1),
      StatsigIdentity_1 = __importDefault(StatsigIdentity),
      StatsigLogger_1 = __importDefault(StatsigLogger$1),
      StatsigNetwork_1 = __importDefault(StatsigNetwork),
      StatsigSDKOptions_1 = __importDefault(StatsigSDKOptions),
      StatsigStore_1 = __importStar(StatsigStore),
      Hashing_1 = Hashing,
      StatsigAsyncStorage_1 = __importDefault(StatsigAsyncStorage$1),
      StatsigLocalStorage_1 = __importDefault(StatsigLocalStorage$1),
      Diagnostics_1 = __importStar(Diagnostics),
      ConsoleLogger_1 = __importDefault(ConsoleLogger$1),
      MAX_VALUE_SIZE = 64,
      MAX_OBJ_SIZE = 2048,
      StatsigClient = (function () {
        function r(t, e, n) {
          var a = this;
          if (
            ((this.appState = null),
            (this.currentAppState = null),
            (this.initCalled = !1),
            (this.pendingInitPromise = null),
            (this.optionalLoggingSetup = !1),
            (this.prefetchedUsersByCacheKey = {}),
            (this.logLayerParameterExposureForLayer = function (o, s, u) {
              u === void 0 && (u = !1);
              var y = '',
                l = o._getUndelegatedSecondaryExposures(),
                d = o._getExplicitParameters().includes(s);
              d && ((y = o._getAllocatedExperimentName()), (l = o._getSecondaryExposures())),
                a.logger.logLayerExposure(
                  a.getCurrentUser(),
                  o.getName(),
                  o.getRuleID(),
                  l,
                  y,
                  s,
                  d,
                  o._getEvaluationDetails(),
                  u
                );
            }),
            typeof t != 'string' || !t.startsWith('client-'))
          )
            throw new Errors_1.StatsigInvalidArgumentError(
              'Invalid key provided.  You must use a Client SDK Key from the Statsig console to initialize the sdk'
            );
          (this.errorBoundary = new ErrorBoundary_1.default(t)),
            (this.ready = !1),
            (this.sdkKey = t),
            (this.options = new StatsigSDKOptions_1.default(n)),
            (this.consoleLogger = new ConsoleLogger_1.default(this.options.getLogLevel())),
            (StatsigLocalStorage_1.default.disabled = this.options.getDisableLocalStorage()),
            (this.initializeDiagnostics = new Diagnostics_1.default('initialize')),
            (this.identity = new StatsigIdentity_1.default(
              this.normalizeUser(e ?? null),
              this.options.getOverrideStableID(),
              r.reactNativeUUID
            )),
            (this.network = new StatsigNetwork_1.default(this)),
            (this.store = new StatsigStore_1.default(this)),
            (this.logger = new StatsigLogger_1.default(this)),
            (n == null ? void 0 : n.initializeValues) != null &&
              this.setInitializeValues(n == null ? void 0 : n.initializeValues),
            this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata());
        }
        return (
          (r.prototype.getErrorBoundary = function () {
            return this.errorBoundary;
          }),
          (r.prototype.getNetwork = function () {
            return this.network;
          }),
          (r.prototype.getStore = function () {
            return this.store;
          }),
          (r.prototype.getLogger = function () {
            return this.logger;
          }),
          (r.prototype.getOptions = function () {
            return this.options;
          }),
          (r.prototype.getSDKKey = function () {
            return this.sdkKey == null ? '' : this.sdkKey;
          }),
          (r.prototype.getCurrentUser = function () {
            return this.identity.getUser();
          }),
          (r.prototype.getCurrentUserCacheKey = function () {
            return (0, Hashing_1.getUserCacheKey)(this.getCurrentUser());
          }),
          (r.prototype.getStatsigMetadata = function () {
            return this.identity.getStatsigMetadata();
          }),
          (r.prototype.getSDKType = function () {
            return this.identity.getSDKType();
          }),
          (r.prototype.getSDKVersion = function () {
            return this.identity.getSDKVersion();
          }),
          (r.prototype.getConsoleLogger = function () {
            return this.consoleLogger;
          }),
          (r.prototype.setInitializeValues = function (t) {
            var e = this;
            this.errorBoundary.capture(
              'setInitializeValues',
              function () {
                e.store.bootstrap(t),
                  e.ready || ((e.ready = !0), (e.initCalled = !0)),
                  e.handleOptionalLogging(),
                  e.logger.sendSavedRequests();
              },
              function () {
                (e.ready = !0), (e.initCalled = !0);
              }
            );
          }),
          (r.prototype.initializeAsync = function () {
            return __awaiter(this, void 0, void 0, function () {
              var t = this;
              return __generator(this, function (e) {
                return [
                  2,
                  this.errorBoundary.capture(
                    'initializeAsync',
                    function () {
                      return __awaiter(t, void 0, void 0, function () {
                        var n,
                          a,
                          o,
                          s = this;
                        return __generator(this, function (u) {
                          switch (u.label) {
                            case 0:
                              return (
                                (n = Date.now()),
                                this.pendingInitPromise != null
                                  ? [2, this.pendingInitPromise]
                                  : this.ready
                                  ? [2, Promise.resolve()]
                                  : (this.initializeDiagnostics.mark(
                                      Diagnostics_1.DiagnosticsKey.OVERALL,
                                      Diagnostics_1.DiagnosticsEvent.START
                                    ),
                                    (this.initCalled = !0),
                                    StatsigAsyncStorage_1.default.asyncStorage
                                      ? [4, this.identity.initAsync()]
                                      : [3, 3])
                              );
                            case 1:
                              return u.sent(), [4, this.store.loadFromAsyncStorage()];
                            case 2:
                              u.sent(), (u.label = 3);
                            case 3:
                              return (
                                this.appState &&
                                  this.appState.addEventListener &&
                                  typeof this.appState.addEventListener == 'function' &&
                                  ((this.currentAppState = this.appState.currentState),
                                  this.appState.addEventListener('change', this.handleAppStateChange.bind(this))),
                                this.options.getLocalModeEnabled()
                                  ? [2, Promise.resolve()]
                                  : ((a = function (y, l) {
                                      var d = s.options.getInitCompletionCallback();
                                      d && d(Date.now() - n, y, l);
                                    }),
                                    (o = this.identity.getUser()),
                                    (this.pendingInitPromise = this.fetchAndSaveValues(
                                      o,
                                      this.options.getPrefetchUsers(),
                                      a,
                                      this.initializeDiagnostics
                                    ).finally(function () {
                                      return __awaiter(s, void 0, void 0, function () {
                                        return __generator(this, function (y) {
                                          return (
                                            (this.pendingInitPromise = null),
                                            (this.ready = !0),
                                            this.logger.sendSavedRequests(),
                                            this.initializeDiagnostics.mark(
                                              Diagnostics_1.DiagnosticsKey.OVERALL,
                                              Diagnostics_1.DiagnosticsEvent.END
                                            ),
                                            this.options.getDisableDiagnosticsLogging() ||
                                              this.logger.logDiagnostics(o, this.initializeDiagnostics),
                                            [2]
                                          );
                                        });
                                      });
                                    })),
                                    this.handleOptionalLogging(),
                                    [2, this.pendingInitPromise])
                              );
                          }
                        });
                      });
                    },
                    function () {
                      return (t.ready = !0), (t.initCalled = !0), Promise.resolve();
                    }
                  ),
                ];
              });
            });
          }),
          (r.prototype.prefetchUsers = function (t) {
            return __awaiter(this, void 0, void 0, function () {
              return __generator(this, function (e) {
                return !t || t.length == 0 ? [2] : [2, this.fetchAndSaveValues(null, t)];
              });
            });
          }),
          (r.prototype.getEvaluationDetails = function () {
            return this.store.getGlobalEvaluationDetails();
          }),
          (r.prototype.checkGate = function (t, e) {
            var n = this;
            return (
              e === void 0 && (e = !1),
              this.errorBoundary.capture(
                'checkGate',
                function () {
                  var a = n.checkGateImpl(t, e);
                  return n.logGateExposureImpl(t, a), a.gate.value === !0;
                },
                function () {
                  return !1;
                }
              )
            );
          }),
          (r.prototype.checkGateWithExposureLoggingDisabled = function (t, e) {
            var n = this;
            return (
              e === void 0 && (e = !1),
              this.errorBoundary.capture(
                'checkGateWithExposureLoggingDisabled',
                function () {
                  var a = n.checkGateImpl(t, e);
                  return a.gate.value === !0;
                },
                function () {
                  return !1;
                }
              )
            );
          }),
          (r.prototype.logGateExposure = function (t) {
            this.logGateExposureImpl(t);
          }),
          (r.prototype.getConfig = function (t, e) {
            var n = this;
            return (
              e === void 0 && (e = !1),
              this.errorBoundary.capture(
                'getConfig',
                function () {
                  var a = n.getConfigImpl(t, e);
                  return n.logConfigExposureImpl(t, a), a;
                },
                function () {
                  return n.getEmptyConfig(t);
                }
              )
            );
          }),
          (r.prototype.getConfigWithExposureLoggingDisabled = function (t, e) {
            var n = this;
            return (
              e === void 0 && (e = !1),
              this.errorBoundary.capture(
                'getConfig',
                function () {
                  return n.getConfigImpl(t, e);
                },
                function () {
                  return n.getEmptyConfig(t);
                }
              )
            );
          }),
          (r.prototype.logConfigExposure = function (t) {
            this.logConfigExposureImpl(t);
          }),
          (r.prototype.getExperiment = function (t, e, n) {
            var a = this;
            return (
              e === void 0 && (e = !1),
              n === void 0 && (n = !1),
              this.errorBoundary.capture(
                'getExperiment',
                function () {
                  var o = a.getExperimentImpl(t, e, n);
                  return a.logExperimentExposureImpl(t, e, o), o;
                },
                function () {
                  return a.getEmptyConfig(t);
                }
              )
            );
          }),
          (r.prototype.getExperimentWithExposureLoggingDisabled = function (t, e, n) {
            var a = this;
            return (
              e === void 0 && (e = !1),
              n === void 0 && (n = !1),
              this.errorBoundary.capture(
                'getExperimentWithExposureLoggingDisabled',
                function () {
                  return a.getExperimentImpl(t, e, n);
                },
                function () {
                  return a.getEmptyConfig(t);
                }
              )
            );
          }),
          (r.prototype.logExperimentExposure = function (t, e) {
            this.logExperimentExposureImpl(t, e);
          }),
          (r.prototype.getLayer = function (t, e) {
            var n = this;
            return (
              e === void 0 && (e = !1),
              this.errorBoundary.capture(
                'getLayer',
                function () {
                  return n.getLayerImpl(n.logLayerParameterExposureForLayer, t, e);
                },
                function () {
                  return Layer_1.default._create(t, {}, '', n.getEvalutionDetailsForError());
                }
              )
            );
          }),
          (r.prototype.getLayerWithExposureLoggingDisabled = function (t, e) {
            var n = this;
            return (
              e === void 0 && (e = !1),
              this.errorBoundary.capture(
                'getLayerWithExposureLoggingDisabled',
                function () {
                  return n.getLayerImpl(null, t, e);
                },
                function () {
                  return Layer_1.default._create(t, {}, '', n.getEvalutionDetailsForError());
                }
              )
            );
          }),
          (r.prototype.logLayerParameterExposure = function (t, e, n) {
            n === void 0 && (n = !1);
            var a = this.getLayerImpl(null, t, n);
            this.logLayerParameterExposureForLayer(a, e, !0);
          }),
          (r.prototype.logEvent = function (t, e, n) {
            var a = this;
            e === void 0 && (e = null),
              n === void 0 && (n = null),
              this.errorBoundary.swallow('logEvent', function () {
                if (!a.logger || !a.sdkKey)
                  throw new Errors_1.StatsigUninitializedError('Must initialize() before logging events.');
                if (typeof t != 'string' || t.length === 0) {
                  a.consoleLogger.error('Event not logged. No valid eventName passed.');
                  return;
                }
                a.shouldTrimParam(t, MAX_VALUE_SIZE) &&
                  (a.consoleLogger.info('eventName is too long, trimming to ' + MAX_VALUE_SIZE + ' characters.'),
                  (t = t.substring(0, MAX_VALUE_SIZE))),
                  typeof e == 'string' &&
                    a.shouldTrimParam(e, MAX_VALUE_SIZE) &&
                    (a.consoleLogger.info('value is too long, trimming to ' + MAX_VALUE_SIZE + '.'),
                    (e = e.substring(0, MAX_VALUE_SIZE))),
                  a.shouldTrimParam(n, MAX_OBJ_SIZE) &&
                    (a.consoleLogger.info('metadata is too big. Dropping the metadata.'),
                    (n = { error: 'not logged due to size too large' }));
                var o = new LogEvent_1.default(t);
                o.setValue(e), o.setMetadata(n), o.setUser(a.getCurrentUser()), a.logger.log(o);
              });
          }),
          (r.prototype.updateUser = function (t) {
            return __awaiter(this, void 0, void 0, function () {
              var e = this;
              return __generator(this, function (n) {
                return [
                  2,
                  this.errorBoundary.capture(
                    'updateUser',
                    function () {
                      return __awaiter(e, void 0, void 0, function () {
                        var a,
                          o,
                          s,
                          u = this;
                        return __generator(this, function (y) {
                          switch (y.label) {
                            case 0:
                              if (!this.initializeCalled())
                                throw new Errors_1.StatsigUninitializedError('Call initialize() first.');
                              return (
                                this.identity.updateUser(this.normalizeUser(t)),
                                (a = Boolean(this.prefetchedUsersByCacheKey[this.getCurrentUserCacheKey()])),
                                (o = this.store.updateUser(a)),
                                this.logger.resetDedupeKeys(),
                                o && a
                                  ? [2, Promise.resolve(!0)]
                                  : this.pendingInitPromise == null
                                  ? [3, 2]
                                  : [4, this.pendingInitPromise]
                              );
                            case 1:
                              y.sent(), (y.label = 2);
                            case 2:
                              return this.options.getLocalModeEnabled()
                                ? [2, Promise.resolve(!0)]
                                : ((s = this.identity.getUser()),
                                  (this.pendingInitPromise = this.fetchAndSaveValues(s).finally(function () {
                                    u.pendingInitPromise = null;
                                  })),
                                  [
                                    2,
                                    this.pendingInitPromise
                                      .then(function () {
                                        return Promise.resolve(!0);
                                      })
                                      .catch(function () {
                                        return Promise.resolve(!1);
                                      }),
                                  ]);
                          }
                        });
                      });
                    },
                    function () {
                      return Promise.resolve(!1);
                    }
                  ),
                ];
              });
            });
          }),
          (r.prototype.shutdown = function () {
            var t = this;
            this.errorBoundary.swallow('shutdown', function () {
              t.logger.shutdown(),
                t.appState &&
                  t.appState.removeEventListener &&
                  typeof t.appState.removeEventListener == 'function' &&
                  t.appState.removeEventListener('change', t.handleAppStateChange.bind(t)),
                StatsigLocalStorage_1.default.cleanup();
            });
          }),
          (r.prototype.overrideGate = function (t, e) {
            var n = this;
            this.errorBoundary.swallow('overrideGate', function () {
              n.ensureStoreLoaded(), n.store.overrideGate(t, e);
            });
          }),
          (r.prototype.overrideConfig = function (t, e) {
            var n = this;
            this.errorBoundary.swallow('overrideConfig', function () {
              n.ensureStoreLoaded(), n.store.overrideConfig(t, e);
            });
          }),
          (r.prototype.overrideLayer = function (t, e) {
            var n = this;
            this.errorBoundary.swallow('overrideLayer', function () {
              n.ensureStoreLoaded(), n.store.overrideLayer(t, e);
            });
          }),
          (r.prototype.removeGateOverride = function (t) {
            var e = this;
            this.errorBoundary.swallow('removeGateOverride', function () {
              e.ensureStoreLoaded(), e.store.removeGateOverride(t);
            });
          }),
          (r.prototype.removeConfigOverride = function (t) {
            var e = this;
            this.errorBoundary.swallow('removeConfigOverride', function () {
              e.ensureStoreLoaded(), e.store.removeConfigOverride(t);
            });
          }),
          (r.prototype.removeLayerOverride = function (t) {
            var e = this;
            this.errorBoundary.swallow('removeLayerOverride', function () {
              e.ensureStoreLoaded(), e.store.removeLayerOverride(t);
            });
          }),
          (r.prototype.removeOverride = function (t) {
            var e = this;
            this.errorBoundary.swallow('removeOverride', function () {
              e.ensureStoreLoaded(), e.store.removeGateOverride(t);
            });
          }),
          (r.prototype.getOverrides = function () {
            var t = this;
            return this.errorBoundary.capture(
              'getOverrides',
              function () {
                return t.ensureStoreLoaded(), t.store.getAllOverrides().gates;
              },
              function () {
                return {};
              }
            );
          }),
          (r.prototype.getAllOverrides = function () {
            var t = this;
            return this.errorBoundary.capture(
              'getAllOverrides',
              function () {
                return t.ensureStoreLoaded(), t.store.getAllOverrides();
              },
              function () {
                return { gates: {}, configs: {}, layers: {} };
              }
            );
          }),
          (r.prototype.getStableID = function () {
            var t = this;
            return this.errorBoundary.capture(
              'getStableID',
              function () {
                return t.identity.getStatsigMetadata().stableID;
              },
              function () {
                return '';
              }
            );
          }),
          (r.prototype.initializeCalled = function () {
            return this.initCalled;
          }),
          (r.prototype.setSDKPackageInfo = function (t) {
            t != null &&
              (this.identity.setSDKPackageInfo(t), this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata()));
          }),
          (r.setAsyncStorage = function (t) {
            t != null && (StatsigAsyncStorage_1.default.asyncStorage = t);
          }),
          (r.setReactNativeUUID = function (t) {
            t != null && (r.reactNativeUUID = t);
          }),
          (r.prototype.setAppState = function (t) {
            t != null && (this.appState = t);
          }),
          (r.prototype.setNativeModules = function (t) {
            t != null && this.identity.setNativeModules(t);
          }),
          (r.prototype.setPlatform = function (t) {
            t != null && this.identity.setPlatform(t);
          }),
          (r.prototype.setRNDeviceInfo = function (t) {
            t != null && this.identity.setRNDeviceInfo(t);
          }),
          (r.prototype.setExpoConstants = function (t) {
            t != null && this.identity.setExpoConstants(t);
          }),
          (r.prototype.setExpoDevice = function (t) {
            t != null && this.identity.setExpoDevice(t);
          }),
          (r.prototype.handleOptionalLogging = function () {
            var t = this;
            if (!(typeof window > 'u' || !window) && !this.optionalLoggingSetup && window.addEventListener) {
              var e = this.identity.getUser();
              if (
                (this.options.getDisableErrorLogging() ||
                  window.addEventListener('error', function (a) {
                    var o,
                      s = a.error;
                    if (s != null && typeof s == 'object')
                      try {
                        s = JSON.stringify(s);
                      } catch {}
                    t.logger.logAppError(e, (o = a.message) !== null && o !== void 0 ? o : '', {
                      filename: a.filename,
                      lineno: a.lineno,
                      colno: a.colno,
                      error_obj: s,
                    });
                  }),
                !this.options.getDisableAutoMetricsLogging())
              ) {
                if (typeof document > 'u' || !document || typeof setTimeout > 'u' || !setTimeout) return;
                var n = function () {
                  setTimeout(function () {
                    t.logger.logAppMetrics(e);
                  }, 1e3);
                };
                document.readyState === 'complete'
                  ? n()
                  : window.addEventListener('load', function () {
                      return n();
                    });
              }
              this.optionalLoggingSetup = !0;
            }
          }),
          (r.prototype.handleAppStateChange = function (t) {
            var e;
            this.currentAppState === 'active' && t.match(/inactive|background/)
              ? this.logger.flush(!0)
              : !((e = this.currentAppState) === null || e === void 0) &&
                e.match(/inactive|background/) &&
                t === 'active' &&
                this.logger.sendSavedRequests(),
              (this.currentAppState = t);
          }),
          (r.prototype.shouldTrimParam = function (t, e) {
            return t == null
              ? !1
              : typeof t == 'string'
              ? t.length > e
              : typeof t == 'object'
              ? JSON.stringify(t).length > e
              : typeof t == 'number'
              ? t.toString().length > e
              : !1;
          }),
          (r.prototype.normalizeUser = function (t) {
            var e = {};
            try {
              e = JSON.parse(JSON.stringify(t));
            } catch {
              throw new Errors_1.StatsigInvalidArgumentError('User object must be convertable to JSON string.');
            }
            return (
              (e = this.trimUserObjIfNeeded(e)),
              this.options.getEnvironment() != null && (e.statsigEnvironment = this.options.getEnvironment()),
              e
            );
          }),
          (r.prototype.trimUserObjIfNeeded = function (t) {
            var e, n;
            return t == null
              ? {}
              : (this.shouldTrimParam((e = t.userID) !== null && e !== void 0 ? e : null, MAX_VALUE_SIZE) &&
                  (this.consoleLogger.info('User ID is too large, trimming to ' + MAX_VALUE_SIZE + 'characters'),
                  (t.userID =
                    (n = t.userID) === null || n === void 0 ? void 0 : n.toString().substring(0, MAX_VALUE_SIZE))),
                this.shouldTrimParam(t, MAX_OBJ_SIZE) &&
                  ((t.custom = {}),
                  this.shouldTrimParam(t, MAX_OBJ_SIZE)
                    ? (this.consoleLogger.info('User object is too large, only keeping the user ID.'),
                      (t = { userID: t.userID }))
                    : this.consoleLogger.info('User object is too large, dropping the custom property.')),
                t);
          }),
          (r.prototype.ensureStoreLoaded = function () {
            if (!this.store.isLoaded())
              throw new Errors_1.StatsigUninitializedError('Call and wait for initialize() to finish first.');
          }),
          (r.prototype.getEvalutionDetailsForError = function () {
            return { time: Date.now(), reason: StatsigStore_1.EvaluationReason.Error };
          }),
          (r.prototype.fetchAndSaveValues = function (t, e, n, a) {
            return (
              e === void 0 && (e = []),
              n === void 0 && (n = null),
              __awaiter(this, void 0, void 0, function () {
                var o,
                  s,
                  u = this;
                return __generator(this, function (y) {
                  return (
                    e.length > 5 && this.consoleLogger.info('Cannot prefetch more than 5 users.'),
                    (o = e.slice(0, 5).reduce(function (l, d) {
                      return (l[(0, Hashing_1.getUserCacheKey)(d)] = d), l;
                    }, {})),
                    (s = null),
                    e.length === 0 && (s = this.store.getLastUpdateTime(t)),
                    [
                      2,
                      this.network
                        .fetchValues(
                          t,
                          s,
                          this.options.getInitTimeoutMs(),
                          function (l) {
                            return __awaiter(u, void 0, void 0, function () {
                              var d = this;
                              return __generator(this, function (E) {
                                return [
                                  2,
                                  this.errorBoundary.swallow('fetchAndSaveValues', function () {
                                    return __awaiter(d, void 0, void 0, function () {
                                      return __generator(this, function (b) {
                                        switch (b.label) {
                                          case 0:
                                            return (
                                              a == null ||
                                                a.mark(
                                                  Diagnostics_1.DiagnosticsKey.INITIALIZE,
                                                  Diagnostics_1.DiagnosticsEvent.START,
                                                  'process'
                                                ),
                                              l != null && l.has_updates ? [4, this.store.save(t, l)] : [3, 2]
                                            );
                                          case 1:
                                            b.sent(), (b.label = 2);
                                          case 2:
                                            return (
                                              (this.prefetchedUsersByCacheKey = __assign(
                                                __assign({}, this.prefetchedUsersByCacheKey),
                                                o
                                              )),
                                              a == null ||
                                                a.mark(
                                                  Diagnostics_1.DiagnosticsKey.INITIALIZE,
                                                  Diagnostics_1.DiagnosticsEvent.END,
                                                  'process'
                                                ),
                                              [2]
                                            );
                                        }
                                      });
                                    });
                                  }),
                                ];
                              });
                            });
                          },
                          function (l) {},
                          e.length === 0 ? a : void 0,
                          e.length > 0 ? o : void 0
                        )
                        .then(function () {
                          n == null || n(!0, null);
                        })
                        .catch(function (l) {
                          n == null || n(!1, l.message);
                        }),
                    ]
                  );
                });
              })
            );
          }),
          (r.prototype.checkGateImpl = function (t, e) {
            if ((this.ensureStoreLoaded(), typeof t != 'string' || t.length === 0))
              throw new Errors_1.StatsigInvalidArgumentError('Must pass a valid string as the gateName.');
            return this.store.checkGate(t, e);
          }),
          (r.prototype.logGateExposureImpl = function (t, e) {
            var n = !e,
              a = e ?? this.checkGateImpl(t, !1),
              o = a.gate;
            this.logger.logGateExposure(
              this.getCurrentUser(),
              t,
              o.value,
              o.rule_id,
              o.secondary_exposures,
              a.evaluationDetails,
              n
            );
          }),
          (r.prototype.getConfigImpl = function (t, e) {
            if ((this.ensureStoreLoaded(), typeof t != 'string' || t.length === 0))
              throw new Errors_1.StatsigInvalidArgumentError('Must pass a valid string as the configName.');
            return this.store.getConfig(t, e);
          }),
          (r.prototype.logConfigExposureImpl = function (t, e) {
            var n = !e,
              a = e ?? this.getConfigImpl(t, !1);
            this.logger.logConfigExposure(
              this.getCurrentUser(),
              t,
              a.getRuleID(),
              a._getSecondaryExposures(),
              a.getEvaluationDetails(),
              n
            );
          }),
          (r.prototype.getExperimentImpl = function (t, e, n) {
            if ((this.ensureStoreLoaded(), typeof t != 'string' || t.length === 0))
              throw new Errors_1.StatsigInvalidArgumentError('Must pass a valid string as the experimentName.');
            return this.store.getExperiment(t, e, n);
          }),
          (r.prototype.logExperimentExposureImpl = function (t, e, n) {
            var a = !n,
              o = n ?? this.getExperimentImpl(t, e, !1);
            this.logger.logConfigExposure(
              this.getCurrentUser(),
              t,
              o.getRuleID(),
              o._getSecondaryExposures(),
              o.getEvaluationDetails(),
              a
            );
          }),
          (r.prototype.getLayerImpl = function (t, e, n) {
            if ((this.ensureStoreLoaded(), typeof e != 'string' || e.length === 0))
              throw new Errors_1.StatsigInvalidArgumentError('Must pass a valid string as the layerName.');
            return this.store.getLayer(t, e, n);
          }),
          (r.prototype.getEmptyConfig = function (t) {
            return new DynamicConfig_1.default(t, {}, '', this.getEvalutionDetailsForError());
          }),
          r
        );
      })();
    StatsigClient$1.default = StatsigClient;
    var Object_entries = {};
    Object.defineProperty(Object_entries, '__esModule', { value: !0 });
    function Polyfill$2() {
      Object.entries ||
        (Object.entries = function (r) {
          for (var t = Object.keys(r), e = t.length, n = new Array(e); e--; ) n[e] = [t[e], r[t[e]]];
          return n;
        });
    }
    Object_entries.default = Polyfill$2;
    var Object_fromEntries = {};
    Object.defineProperty(Object_fromEntries, '__esModule', { value: !0 });
    function Polyfill$1() {
      Object.fromEntries ||
        (Object.fromEntries = function (r) {
          for (var t = {}, e = 0, n = r; e < n.length; e++) {
            var a = n[e];
            if (Object(a) !== a) throw new TypeError('iterable for fromEntries should yield objects');
            var o = a[0],
              s = a[1];
            Object.defineProperty(t, o, { configurable: !0, enumerable: !0, writable: !0, value: s });
          }
          return t;
        });
    }
    Object_fromEntries.default = Polyfill$1;
    var Promise_finally = {};
    Object.defineProperty(Promise_finally, '__esModule', { value: !0 });
    function Polyfill() {
      Promise.prototype.finally =
        Promise.prototype.finally ||
        function (r) {
          var t = function (e) {
            return Promise.resolve(r()).then(e);
          };
          return this.then(
            function (e) {
              return t(function () {
                return e;
              });
            },
            function (e) {
              return t(function () {
                return Promise.reject(e);
              });
            }
          );
        };
    }
    (Promise_finally.default = Polyfill),
      (function (r) {
        var t =
            (commonjsGlobal && commonjsGlobal.__awaiter) ||
            function (h, c, g, m) {
              function A(I) {
                return I instanceof g
                  ? I
                  : new g(function (w) {
                      w(I);
                    });
              }
              return new (g || (g = Promise))(function (I, w) {
                function L(C) {
                  try {
                    T(m.next(C));
                  } catch (O) {
                    w(O);
                  }
                }
                function x(C) {
                  try {
                    T(m.throw(C));
                  } catch (O) {
                    w(O);
                  }
                }
                function T(C) {
                  C.done ? I(C.value) : A(C.value).then(L, x);
                }
                T((m = m.apply(h, c || [])).next());
              });
            },
          e =
            (commonjsGlobal && commonjsGlobal.__generator) ||
            function (h, c) {
              var g = {
                  label: 0,
                  sent: function () {
                    if (I[0] & 1) throw I[1];
                    return I[1];
                  },
                  trys: [],
                  ops: [],
                },
                m,
                A,
                I,
                w;
              return (
                (w = { next: L(0), throw: L(1), return: L(2) }),
                typeof Symbol == 'function' &&
                  (w[Symbol.iterator] = function () {
                    return this;
                  }),
                w
              );
              function L(T) {
                return function (C) {
                  return x([T, C]);
                };
              }
              function x(T) {
                if (m) throw new TypeError('Generator is already executing.');
                for (; g; )
                  try {
                    if (
                      ((m = 1),
                      A &&
                        (I = T[0] & 2 ? A.return : T[0] ? A.throw || ((I = A.return) && I.call(A), 0) : A.next) &&
                        !(I = I.call(A, T[1])).done)
                    )
                      return I;
                    switch (((A = 0), I && (T = [T[0] & 2, I.value]), T[0])) {
                      case 0:
                      case 1:
                        I = T;
                        break;
                      case 4:
                        return g.label++, { value: T[1], done: !1 };
                      case 5:
                        g.label++, (A = T[1]), (T = [0]);
                        continue;
                      case 7:
                        (T = g.ops.pop()), g.trys.pop();
                        continue;
                      default:
                        if (((I = g.trys), !(I = I.length > 0 && I[I.length - 1]) && (T[0] === 6 || T[0] === 2))) {
                          g = 0;
                          continue;
                        }
                        if (T[0] === 3 && (!I || (T[1] > I[0] && T[1] < I[3]))) {
                          g.label = T[1];
                          break;
                        }
                        if (T[0] === 6 && g.label < I[1]) {
                          (g.label = I[1]), (I = T);
                          break;
                        }
                        if (I && g.label < I[2]) {
                          (g.label = I[2]), g.ops.push(T);
                          break;
                        }
                        I[2] && g.ops.pop(), g.trys.pop();
                        continue;
                    }
                    T = c.call(h, g);
                  } catch (C) {
                    (T = [6, C]), (A = 0);
                  } finally {
                    m = I = 0;
                  }
                if (T[0] & 5) throw T[1];
                return { value: T[0] ? T[1] : void 0, done: !0 };
              }
            },
          n =
            (commonjsGlobal && commonjsGlobal.__importDefault) ||
            function (h) {
              return h && h.__esModule ? h : { default: h };
            };
        Object.defineProperty(r, '__esModule', { value: !0 }),
          (r.StatsigAsyncStorage = r.EvaluationReason = r.StatsigClient = r.Layer = r.DynamicConfig = void 0);
        var a = Errors,
          o = n(StatsigClient$1),
          s = n(StatsigRuntime$1),
          u = StatsigStore,
          y = n(Object_entries),
          l = n(Object_fromEntries),
          d = n(Promise_finally),
          E = DynamicConfig$1;
        Object.defineProperty(r, 'DynamicConfig', {
          enumerable: !0,
          get: function () {
            return n(E).default;
          },
        });
        var b = Layer$1;
        Object.defineProperty(r, 'Layer', {
          enumerable: !0,
          get: function () {
            return n(b).default;
          },
        });
        var S = StatsigClient$1;
        Object.defineProperty(r, 'StatsigClient', {
          enumerable: !0,
          get: function () {
            return n(S).default;
          },
        });
        var v = StatsigStore;
        Object.defineProperty(r, 'EvaluationReason', {
          enumerable: !0,
          get: function () {
            return v.EvaluationReason;
          },
        });
        var _ = StatsigAsyncStorage$1;
        Object.defineProperty(r, 'StatsigAsyncStorage', {
          enumerable: !0,
          get: function () {
            return n(_).default;
          },
        }),
          (0, y.default)(),
          (0, l.default)(),
          (0, d.default)();
        var p = (function () {
          function h() {}
          return (
            Object.defineProperty(h, 'encodeIntializeCall', {
              get: function () {
                return s.default.encodeInitializeCall;
              },
              set: function (c) {
                s.default.encodeInitializeCall = c;
              },
              enumerable: !1,
              configurable: !0,
            }),
            (h.initialize = function (c, g, m) {
              var A;
              return t(this, void 0, void 0, function () {
                var I;
                return e(this, function (w) {
                  return (
                    (I = (A = h.instance) !== null && A !== void 0 ? A : new o.default(c, g, m)),
                    h.instance || (h.instance = I),
                    [2, I.initializeAsync()]
                  );
                });
              });
            }),
            (h.prefetchUsers = function (c) {
              return t(this, void 0, void 0, function () {
                return e(this, function (g) {
                  switch (g.label) {
                    case 0:
                      return [4, h.getClientX().prefetchUsers(c)];
                    case 1:
                      return [2, g.sent()];
                  }
                });
              });
            }),
            (h.setInitializeValues = function (c) {
              h.getClientX().setInitializeValues(c);
            }),
            (h.checkGate = function (c, g) {
              return g === void 0 && (g = !1), h.getClientX().checkGate(c, g);
            }),
            (h.checkGateWithExposureLoggingDisabled = function (c, g) {
              return g === void 0 && (g = !1), h.getClientX().checkGateWithExposureLoggingDisabled(c, g);
            }),
            (h.manuallyLogGateExposure = function (c) {
              h.getClientX().logGateExposure(c);
            }),
            (h.getConfig = function (c, g) {
              return g === void 0 && (g = !1), h.getClientX().getConfig(c, g);
            }),
            (h.getConfigWithExposureLoggingDisabled = function (c, g) {
              return g === void 0 && (g = !1), h.getClientX().getConfigWithExposureLoggingDisabled(c, g);
            }),
            (h.manuallyLogConfigExposure = function (c) {
              h.getClientX().logConfigExposure(c);
            }),
            (h.getExperiment = function (c, g, m) {
              return g === void 0 && (g = !1), m === void 0 && (m = !1), h.getClientX().getExperiment(c, g, m);
            }),
            (h.getExperimentWithExposureLoggingDisabled = function (c, g, m) {
              return (
                g === void 0 && (g = !1),
                m === void 0 && (m = !1),
                h.getClientX().getExperimentWithExposureLoggingDisabled(c, g, m)
              );
            }),
            (h.manuallyLogExperimentExposure = function (c, g) {
              g === void 0 && (g = !1), h.getClientX().logExperimentExposure(c, g);
            }),
            (h.getLayer = function (c, g) {
              return g === void 0 && (g = !1), h.getClientX().getLayer(c, g);
            }),
            (h.getLayerWithExposureLoggingDisabled = function (c, g) {
              return g === void 0 && (g = !1), h.getClientX().getLayerWithExposureLoggingDisabled(c, g);
            }),
            (h.manuallyLogLayerParameterExposure = function (c, g, m) {
              m === void 0 && (m = !1), h.getClientX().logLayerParameterExposure(c, g, m);
            }),
            (h.logEvent = function (c, g, m) {
              return g === void 0 && (g = null), m === void 0 && (m = null), h.getClientX().logEvent(c, g, m);
            }),
            (h.updateUser = function (c) {
              return h.getClientX().updateUser(c);
            }),
            (h.shutdown = function () {
              h.getClientX().shutdown(), (h.instance = null);
            }),
            (h.overrideGate = function (c, g) {
              h.getClientX().overrideGate(c, g);
            }),
            (h.overrideConfig = function (c, g) {
              h.getClientX().overrideConfig(c, g);
            }),
            (h.overrideLayer = function (c, g) {
              h.getClientX().overrideLayer(c, g);
            }),
            (h.removeGateOverride = function (c) {
              h.getClientX().removeGateOverride(c);
            }),
            (h.removeConfigOverride = function (c) {
              h.getClientX().removeConfigOverride(c);
            }),
            (h.removeLayerOverride = function (c) {
              h.getClientX().removeLayerOverride(c);
            }),
            (h.getAllOverrides = function () {
              return h.getClientX().getAllOverrides();
            }),
            (h.getStableID = function () {
              return h.getClientX().getStableID();
            }),
            (h.getEvaluationDetails = function () {
              var c, g;
              return (g = (c = h.instance) === null || c === void 0 ? void 0 : c.getEvaluationDetails()) !== null &&
                g !== void 0
                ? g
                : { reason: u.EvaluationReason.Uninitialized, time: 0 };
            }),
            (h.removeOverride = function (c) {
              h.getClientX().removeOverride(c);
            }),
            (h.getOverrides = function () {
              return h.getClientX().getOverrides();
            }),
            (h.getClientX = function () {
              if (!h.instance) throw new a.StatsigUninitializedError();
              return h.instance;
            }),
            (h.instance = null),
            h
          );
        })();
        r.default = p;
      })(dist);
    const statsig = getDefaultExportFromCjs(dist),
      STATSIG_API_KEY = 'client-T6LkxLGedeRhoEviHhlxXzx90Ghgw3Ug3g8KQe1l5JF',
      STATSIG_API_GATEWAY_URL = 'https://07wtctra85.execute-api.us-west-2.amazonaws.com/ffapi';
    function readCookie(r) {
      const t = `${r}=`,
        e = document.cookie.split(';');
      for (let n = 0, a = e.length; n < a; n += 1) {
        let o = e[n];
        for (; o.charAt(0) === ' '; ) o = o.substring(1, o.length);
        if (o.indexOf(t) === 0) return o.substring(t.length, o.length);
      }
      return null;
    }
    const SHOPIFY_USER_ID_COOKIE_NAME = '_shopify_y';
    function getShopifyUserId() {
      try {
        return readCookie(SHOPIFY_USER_ID_COOKIE_NAME) || 'OS_USER_ID_EMPTY';
      } catch {
        return 'OS_USER_ID_FAILED';
      }
    }
    function getShopifyUser() {
      var e;
      const r = ((e = window == null ? void 0 : window.navigator) == null ? void 0 : e.userAgent) || 'unknown',
        t = r.toLowerCase().includes('googlebot');
      return { userID: getShopifyUserId(), userType: t ? 'googlebot' : 'regular', userAgent: r };
    }
    async function initStatsig() {
      try {
        const r = getShopifyUser();
        return await statsig.initialize(STATSIG_API_KEY, r.userID ? r : null, { api: STATSIG_API_GATEWAY_URL }), !0;
      } catch {
        captureError(new Error('Failed to initialize feature flagging'));
      }
      return !1;
    }
    function getExperiment(r) {
      try {
        return statsig.getExperiment(r).value || {};
      } catch {
        return captureError(new Error('Failed to retrieve experiment by name')), {};
      }
    }
    function captureError(r) {
      console.error('OS Experimentation Error', { error: r });
    }
    function removeTrailingSlashes(r) {
      return r ? r.replace(/^\/+|\/+$/g, '') : '';
    }
    function waitForGlobalVariable(r) {
      let t = 0;
      return new Promise((e, n) => {
        const a = setInterval(function () {
          t > 500 && n(new Error(`Expected variable '${r}' does not exist in window object`)),
            t++,
            window[r] && (clearInterval(a), e(!0));
        }, 20);
      });
    }
    function isShopifyAdminDomain() {
      var r, t;
      return Boolean(
        (t = (r = window == null ? void 0 : window.location) == null ? void 0 : r.hostname) == null
          ? void 0
          : t.includes('shopify.com')
      );
    }
    function getShopifyEnvironment() {
      return isShopifyAdminDomain() ? 'shopify_preview' : 'production';
    }
    async function pushEventToDataLayer(r, t) {
      var n;
      await waitForGlobalVariable('ElevarGtmSuite');
      const e = window.ElevarGtmSuite;
      (n = e == null ? void 0 : e.utils) != null &&
        n.pushToDataLayer &&
        (e.utils.pushToDataLayer({ data: null }), e.utils.pushToDataLayer({ event: r, data: t }));
    }
    function pushEventToGtm(r, t) {
      const e = window || {};
      (e.dataLayer = e.dataLayer || []), e.dataLayer.push({ event: r, data: t });
    }
    function trackPageStartEvent(r, t) {
      pushEventToGtm('os_page_experiment_started', {
        ...getShopifyUser(),
        shopifyEnvironment: getShopifyEnvironment(),
        experimentName: r,
        currentRoute: t,
      });
    }
    function trackPageLoadEvent(r, t) {
      pushEventToDataLayer('os_page_experiment_loaded', {
        ...getShopifyUser(),
        shopifyEnvironment: getShopifyEnvironment(),
        experimentName: r,
        currentRoute: t,
      });
    }
    function trackExposureEvent(r, t, e, n) {
      pushEventToDataLayer('os_page_experiment_exposure', {
        ...getShopifyUser(),
        shopifyEnvironment: getShopifyEnvironment(),
        experimentName: r,
        currentRoute: t,
        expectedRoute: e,
        bucketing: n,
      });
    }
    function runPageExperiment(r, t) {
      var a, o, s, u, y, l;
      const e = removeTrailingSlashes(
        ((a = window == null ? void 0 : window.location) == null ? void 0 : a.pathname) || ''
      );
      if ((trackPageStartEvent(r, e), trackPageLoadEvent(r, e), getShopifyEnvironment() !== 'shopify_preview')) {
        if (!(t != null && t.length) || t.length < 2) {
          const d = getExperiment(r),
            E = removeTrailingSlashes(d.route),
            b = d.bucket;
          if (!b) trackExposureEvent(r, e, E, 'noexperiment');
          else if (E === 'preview_theme_id=current')
            if (readCookie('preview_theme')) {
              const S = ((o = window == null ? void 0 : window.location) == null ? void 0 : o.href) || '';
              (s = window == null ? void 0 : window.location) == null ||
                s.replace(S + `${S.includes('?') ? '&' : '?'}preview_theme_id=`);
            } else trackExposureEvent(r, e, E, b);
          else if (E.includes('preview_theme_id'))
            if (readCookie('preview_theme')) trackExposureEvent(r, e, E, b);
            else {
              const S = ((u = window == null ? void 0 : window.location) == null ? void 0 : u.href) || '';
              (y = window == null ? void 0 : window.location) == null ||
                y.replace(S + `${S.includes('?') ? '&' : '?'}${E}&pb=0`);
            }
          return;
        }
        for (const d of t) {
          const E = removeTrailingSlashes(d);
          if (e !== E) continue;
          const b = getExperiment(r),
            S = removeTrailingSlashes(b.route),
            v = b.bucket;
          if (v) {
            if (S === e) {
              trackExposureEvent(r, e, S, v);
              return;
            }
          } else {
            trackExposureEvent(r, e, S, 'noexperiment');
            return;
          }
          (l = window == null ? void 0 : window.location) == null || l.replace(`/${S}`);
          return;
        }
      }
    }
    function runPageExperiments() {
      if (window === void 0) return;
      const r = window == null ? void 0 : window.osPageExperiments;
      if (r && r !== null) for (const [t, e] of Object.entries(r)) runPageExperiment(t, e);
    }
    class StatSigClient {
      constructor(t = 'client:') {
        R(this, 'version', '1.0.0');
        R(this, 'prefix', 'client:');
        R(this, 'event_source');
        R(this, 'debug', !1);
        R(this, 'queue', []);
        (this.prefix = t), (this.event_source = 'gtm');
      }
      productAdded(t) {
        statsig.logEvent(`${this.prefix}Product Added`, t.price || 0, { ...t });
      }
      orderCompleted(t) {
        statsig.logEvent(`${this.prefix}Order Completed`, t.total || 0, { ...t });
      }
      log(t, ...e) {
        this.debug && console.log(`statsig client: ${t}`, ...e);
      }
      push(t) {
        try {
          if ((this.queue.push(t), t == null)) return;
          if (typeof t != 'object') {
            this.log('invalid event type', t);
            return;
          }
          if (t.event_source !== 'gtm') {
            this.log(`ignored event based on source (event_source=${t.event_source})`, t);
            return;
          }
          switch (t.type) {
            case 'Product Added':
              this.productAdded(t);
              break;
            case 'Order Completed':
              this.orderCompleted(t);
              break;
            default:
              this.log(`ignored event based on type (type=${t.type})`, t);
              break;
          }
        } catch (e) {
          this.log(`caught error: ${e}`);
        }
      }
      install(t = window) {
        if (
          (t == null ? void 0 : t.osEventLayer) !== null &&
          typeof (t == null ? void 0 : t.osEventLayer) == 'object' &&
          !Array.isArray(t == null ? void 0 : t.osEventLayer)
        )
          return;
        const e = t.osEventLayer ?? [];
        (t.osEventLayer = this), e.forEach((n) => this.push(n));
      }
    }
    async function init(r = window) {
      var t;
      if (
        !(typeof r > 'u' || r === null) &&
        !(r != null && r.osExperimentsInit) &&
        !(
          typeof (r == null ? void 0 : r.osExperimentsConfig) == 'object' &&
          ((t = r.osExperimentsConfig) == null ? void 0 : t.disableOnload) === !0
        )
      )
        return (
          (r.osExperimentsInit = !0),
          initStatsig()
            .catch((e) => captureError(e))
            .then(() => {
              new StatSigClient().install(r), runPageExperiments();
            })
        );
    }
    init();
  })();
</script>
